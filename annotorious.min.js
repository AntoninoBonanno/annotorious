function f(){return function(){}}function m(a){return function(){return this[a]}}function aa(a){return function(){return a}}var n,p=this;function ba(a,b){var c=a.split("."),d=p;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function ca(){}function ea(a){a.ac=function(){return a.ee?a.ee:a.ee=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function r(a){return"function"==fa(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a){return a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}
function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return pa.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a};function sa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,ua=/[&<>\"]/;function za(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function Aa(a){var b=q(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var x=Array.prototype,Ba=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ca=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[g++]=l)}return e},Da=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=q(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Ea=x.every?function(a,b,c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};
function Fa(a,b){var c;a:{c=a.length;for(var d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:q(a)?a.charAt(c):a[c]}function Ga(a,b){return 0<=Ba(a,b)}function A(a,b){var c=Ba(a,b),d;(d=0<=c)&&x.splice.call(a,c,1);return d}function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ia(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(ga(d)||(e=ha(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,k=0;k<h;k++)a[g+k]=d[k];else a.push(d)}}function Ja(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}function Ka(a,b){x.sort.call(a,b||La)}function La(a,b){return a>b?1:a<b?-1:0};var Ma,Na,Oa,Ra,Sa;function Ta(){return p.navigator?p.navigator.userAgent:null}function Ua(){return p.navigator}Ra=Oa=Na=Ma=!1;var Va;if(Va=Ta()){var Wa=Ua();Ma=0==Va.lastIndexOf("Opera",0);Na=!Ma&&(-1!=Va.indexOf("MSIE")||-1!=Va.indexOf("Trident"));Oa=!Ma&&-1!=Va.indexOf("WebKit");Ra=!Ma&&!Oa&&!Na&&"Gecko"==Wa.product}var B=Ma,C=Na,D=Ra,E=Oa,Xa=Ua();Sa=-1!=(Xa&&Xa.platform||"").indexOf("Mac");var Ya=!!Ua()&&-1!=(Ua().appVersion||"").indexOf("X11");
function Za(){var a=p.document;return a?a.documentMode:void 0}var $a;a:{var ab="",bb;if(B&&p.opera)var cb=p.opera.version,ab="function"==typeof cb?cb():cb;else if(D?bb=/rv\:([^\);]+)(\)|;)/:C?bb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:E&&(bb=/WebKit\/(\S+)/),bb)var db=bb.exec(Ta()),ab=db?db[1]:"";if(C){var eb=Za();if(eb>parseFloat(ab)){$a=String(eb);break a}}$a=ab}var fb={};
function F(a){var b;if(!(b=fb[a])){b=0;for(var c=sa(String($a)).split("."),d=sa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",l=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var w=l.exec(h)||["","",""],u=s.exec(k)||["","",""];if(0==w[0].length&&0==u[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==w[2].length)<
(0==u[2].length)?-1:(0==w[2].length)>(0==u[2].length)?1:0)||(w[2]<u[2]?-1:w[2]>u[2]?1:0)}while(0==b)}b=fb[a]=0<=b}return b}var jb=p.document,kb=jb&&C?Za()||("CSS1Compat"==jb.compatMode?parseInt($a,10):5):void 0;var lb,mb=!C||C&&9<=kb;!D&&!C||C&&C&&9<=kb||D&&F("1.9.1");C&&F("9");var nb=C||B||E;function ob(a){a=a.className;return q(a)&&a.match(/\S+/g)||[]}function pb(a,b){var c=ob(a),d=Ja(arguments,1),e=c.length+d.length;qb(c,d);a.className=c.join(" ");return c.length==e}function rb(a,b){var c=ob(a),d=Ja(arguments,1),e=sb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function qb(a,b){for(var c=0;c<b.length;c++)Ga(a,b[c])||a.push(b[c])}function sb(a,b){return Ca(a,function(a){return!Ga(b,a)})}
function tb(a,b,c){var d=ob(a);q(b)?A(d,b):ga(b)&&(d=sb(d,b));q(c)&&!Ga(d,c)?d.push(c):ga(c)&&qb(d,c);a.className=d.join(" ")};function G(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}G.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function ub(a,b){this.width=a;this.height=b}ub.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function vb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<wb.length;g++)c=wb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function yb(a){return a?new zb(H(a)):lb||(lb=new zb)}function Ab(){var a=document;a.querySelectorAll&&a.querySelector?a=a.querySelector(".openseadragon-container"):(a=document,a=(a.querySelectorAll&&a.querySelector?a.querySelectorAll(".openseadragon-container"):a.getElementsByClassName?a.getElementsByClassName("openseadragon-container"):Bb())[0]);return a||null}
function Bb(){var a,b,c,d;a=document;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll(".openseadragon-container");if(a.getElementsByClassName){var e=a.getElementsByClassName("openseadragon-container");return e}e=a.getElementsByTagName("*");d={};for(b=c=0;a=e[b];b++){var g=a.className;"function"==typeof g.split&&Ga(g.split(/\s+/),"openseadragon-container")&&(d[c++]=a)}d.length=c;return d}
function Cb(a,b){vb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Db?a.setAttribute(Db[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Db={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Eb(a,b,c){var d=arguments,e=document,g=d[0],h=d[1];if(!mb&&h&&(h.name||h.type)){g=["\x3c",g];h.name&&g.push(' name\x3d"',ta(h.name),'"');if(h.type){g.push(' type\x3d"',ta(h.type),'"');var k={};xb(k,h);delete k.type;h=k}g.push("\x3e");g=g.join("")}g=e.createElement(g);h&&(q(h)?g.className=h:ga(h)?pb.apply(null,[g].concat(h)):Cb(g,h));2<d.length&&Fb(e,g,d,2);return g}
function Fb(a,b,c,d){function e(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];if(!ha(g)||ia(g)&&0<g.nodeType)e(g);else{var h;a:{if(g&&"number"==typeof g.length){if(ia(g)){h="function"==typeof g.item||"string"==typeof g.item;break a}if(r(g)){h="function"==typeof g.item;break a}}h=!1}y(h?Ha(g):g,e)}}}function Gb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Hb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}
function Ib(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Jb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Kb(a){return ia(a)&&1==a.nodeType}function Lb(a){if(nb&&!(C&&F("9")&&!F("10")&&p.SVGElement&&a instanceof p.SVGElement))return a.parentElement;a=a.parentNode;return Kb(a)?a:null}
function Mb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function H(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Nb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Gb(a),a.appendChild(H(a).createTextNode(String(b)))}function Ob(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):!1}function zb(a){this.ba=a||p.document||document}n=zb.prototype;n.Ud=yb;n.h=function(a){return q(a)?this.ba.getElementById(a):a};n.D=Cb;
n.createElement=function(a){return this.ba.createElement(a)};n.createTextNode=function(a){return this.ba.createTextNode(String(a))};function Pb(a){var b=a.ba;a=E?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return C&&F("10")&&b.pageYOffset!=a.scrollTop?new G(a.scrollLeft,a.scrollTop):new G(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a,b){Fb(H(a),a,arguments,1)};n.contains=Mb;function Tb(){return!0};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var I=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!q(a))return[a];if(q(c)&&(c=q(c)?document.getElementById(c):c,!c))return[];c=c||document;var e=c.ownerDocument||c.documentElement;Pa=c.contentType&&"application/xml"==c.contentType||B&&(c.doctype||"[object XMLDocument]"==e.toString())||!!e&&(C?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.Ec?e:b(e)}function b(a){if(a&&a.Ec)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;
da++;if(C&&Pa){var c=da+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(C&&a.xe)try{for(d=1;e=a[d];d++)Qb(e)&&b.push(e)}catch(g){}else for(a[0]&&(a[0]._zipIdx=da),d=1;e=a[d];d++)a[d]._zipIdx!=da&&b.push(e),e._zipIdx=da;return b}function c(a,b){if(!b)return 1;var c=kf(a);return b[c]?0:b[c]=1}function d(a,b){if(Ad){var c=Bd[a];if(c&&!b)return c}if(c=Cd[a])return c;var c=a.charAt(0),g=-1==a.indexOf(" ");0<=a.indexOf("#")&&
g&&(b=!0);if(!Ad||b||-1!="\x3e~+".indexOf(c)||C&&-1!=a.indexOf(":")||Dd&&0<=a.indexOf(".")||-1!=a.indexOf(":contains")||-1!=a.indexOf("|\x3d")){var h=a.split(/\s*,\s*/);return Cd[a]=2>h.length?e(a):function(a){for(var b=0,c=[],d;d=h[b++];)c=c.concat(e(d)(a));return c}}var k=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return Bd[a]=function(b){try{if(9!=b.nodeType&&!g)throw"";var c=b.querySelectorAll(k);C?c.xe=!0:c.Ec=!0;return c}catch(e){return d(a,!0)(b)}}}function e(a){var b=Ed(sa(a));if(1==
b.length){var c=g(b[0]);return function(a){if(a=c(a,[]))a.Ec=!0;return a}}return function(a){a=gb(a);for(var c,d,e=b.length,h,k,tc=0;tc<e;tc++){k=[];c=b[tc];d=a.length-1;0<d&&(h={},k.Ec=!0);d=g(c);for(var l=0;c=a[l];l++)d(c,k,h);if(!k.length)break;a=k}return k}}function g(a){var b=Fd[a.zb];if(b)return b;var c=a.de,c=c?c.Fc:"",d=s(a,{Y:1}),e="*"==a.aa,g=document.getElementsByClassName;if(c)g={Y:1},e&&(g.aa=1),d=s(a,g),"+"==c?b=l(d):"~"==c?b=k(d):"\x3e"==c&&(b=h(d));else if(a.id)d=!a.ge&&e?Tb:s(a,{Y:1,
id:1}),b=function(b,c){var e=yb(b).h(a.id),g;if((g=e&&d(e))&&!(g=9==b.nodeType)){for(g=e.parentNode;g&&g!=b;)g=g.parentNode;g=!!g}if(g)return gb(e,c)};else if(g&&/\{\s*\[native code\]\s*\}/.test(String(g))&&a.za.length&&!Dd)var d=s(a,{Y:1,za:1,id:1}),u=a.za.join(" "),b=function(a,b){for(var c=gb(0,b),e,g=0,h=a.getElementsByClassName(u);e=h[g++];)d(e,a)&&c.push(e);return c};else e||a.ge?(d=s(a,{Y:1,aa:1,id:1}),b=function(b,c){for(var e=gb(0,c),g,h=0,k=b.getElementsByTagName(a.hd());g=k[h++];)d(g,b)&&
e.push(g);return e}):b=function(b,c){for(var d=gb(0,c),e,g=0,h=b.getElementsByTagName(a.hd());e=h[g++];)d.push(e);return d};return Fd[a.zb]=b}function h(a){a=a||Tb;return function(b,d,e){for(var g=0,h=b[Gd];b=h[g++];)hb(b)&&((!e||c(b,e))&&a(b,g))&&d.push(b);return d}}function k(a){return function(b,d,e){for(b=b[ib];b;){if(hb(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[ib]}return d}}function l(a){return function(b,d,e){for(;b=b[ib];)if(!Rb||Qb(b)){e&&!c(b,e)||!a(b)||d.push(b);break}return d}}function s(a,
b){if(!a)return Tb;b=b||{};var c=null;b.Y||(c=Qa(c,Qb));b.aa||"*"!=a.aa&&(c=Qa(c,function(b){return b&&b.tagName==a.hd()}));b.za||y(a.za,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Qa(c,function(a){return d.test(a.className)});c.count=b});b.fb||y(a.fb,function(a){var b=a.name;uc[b]&&(c=Qa(c,uc[b](b,a.value)))});b.pc||y(a.pc,function(a){var b,d=a.$c;a.type&&Hd[a.type]?b=Hd[a.type](d,a.od):d.length&&(b=lf(d));b&&(c=Qa(c,b))});b.id||a.id&&(c=Qa(c,function(b){return!!b&&b.id==a.id}));c||"default"in
b||(c=Tb);return c}function w(a){return Sb(a)%2}function u(a){return!(Sb(a)%2)}function Sb(a){var b=a.parentNode,c=0,d=b[Gd],e=a._i||-1,g=b._l||-1;if(!d)return-1;d=d.length;if(g==d&&0<=e&&0<=g)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[ib])hb(b)&&(b._i=++c,a===b&&(e=c));return e}function Id(a){for(;a=a[ib];)if(hb(a))return!1;return!0}function Jd(a){for(;a=a[mf];)if(hb(a))return!1;return!0}function ka(a,b){return a?"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==
b?a.style.cssText||"":(Pa?a.getAttribute(b):a.getAttribute(b,2))||"":""}function Qb(a){return 1==a.nodeType}function Qa(a,b){return a?b?function(){return a.apply(window,arguments)&&b.apply(window,arguments)}:a:b}function Ed(a){function b(){0<=s&&(v.id=c(s,z).replace(/\\/g,""),s=-1);if(0<=u){var a=u==z?null:c(u,z);0>"\x3e~+".indexOf(a)?v.aa=a:v.Fc=a;u=-1}0<=l&&(v.za.push(c(l+1,z).replace(/\\/g,"")),l=-1)}function c(b,d){return sa(a.slice(b,d))}a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var d=
[],e=-1,g=-1,h=-1,k=-1,l=-1,s=-1,u=-1,w="",P="",ka,z=0,da=a.length,v=null,Q=null;w=P,P=a.charAt(z),z<da;z++)"\\"!=w&&(v||(ka=z,v={zb:null,fb:[],pc:[],za:[],aa:null,Fc:null,id:null,hd:function(){return Pa?this.Ne:this.aa}},u=z),0<=e?"]"==P?(Q.$c?Q.od=c(h||e+1,z):Q.$c=c(e+1,z),!(e=Q.od)||'"'!=e.charAt(0)&&"'"!=e.charAt(0)||(Q.od=e.slice(1,-1)),v.pc.push(Q),Q=null,e=h=-1):"\x3d"==P&&(h=0<="|~^$*".indexOf(w)?w:"",Q.type=h+P,Q.$c=c(e+1,z-h.length),h=z+1):0<=g?")"==P&&(0<=k&&(Q.value=c(g+1,z)),k=g=-1):
"#"==P?(b(),s=z+1):"."==P?(b(),l=z):":"==P?(b(),k=z):"["==P?(b(),e=z,Q={}):"("==P?(0<=k&&(Q={name:c(k+1,z),value:null},v.fb.push(Q)),g=z):" "==P&&w!=P&&(b(),0<=k&&v.fb.push({name:c(k+1,z)}),v.ge=v.fb.length||v.pc.length||v.za.length,v.gf=v.zb=c(ka,z),v.Ne=v.aa=v.Fc?null:v.aa||"*",v.aa&&(v.aa=v.aa.toUpperCase()),d.length&&d[d.length-1].Fc&&(v.de=d.pop(),v.zb=v.de.zb+" "+v.zb),d.push(v),v=null));return d}function gb(a,b){var c=b||[];a&&c.push(a);return c}var Dd=E&&"BackCompat"==document.compatMode,
Gd=document.firstChild.children?"children":"childNodes",Pa=!1,Hd={"*\x3d":function(a,b){return function(c){return 0<=ka(c,a).indexOf(b)}},"^\x3d":function(a,b){return function(c){return 0==ka(c,a).indexOf(b)}},"$\x3d":function(a,b){return function(c){c=" "+ka(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~\x3d":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+ka(b,a)+" ").indexOf(c)}},"|\x3d":function(a,b){b=" "+b;return function(c){c=" "+ka(c,a);return c==b||0==c.indexOf(b+"-")}},
"\x3d":function(a,b){return function(c){return ka(c,a)==b}}},Rb="undefined"==typeof document.firstChild.nextElementSibling,ib=Rb?"nextSibling":"nextElementSibling",mf=Rb?"previousSibling":"previousElementSibling",hb=Rb?Qb:Tb,uc={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Jd},"last-child":function(){return Id},"only-child":function(){return function(a){return Jd(a)&&Id(a)?!0:!1}},empty:function(){return function(a){var b=a.childNodes;
for(a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=Ed(b)[0],d={Y:1};"*"!=c.aa&&(d.aa=1);c.za.length||(d.za=1);var e=s(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return w;if("even"==b)return u;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):
1,e=c[1]?parseInt(c[1],10):0,g=0,h=-1;0<d?0>e?e=e%d&&d+e%d:0<e&&(e>=d&&(g=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(h=e,e%=d));if(0<d)return function(a){a=Sb(a);return a>=g&&(0>h||a<=h)&&a%d==e};b=e}var k=parseInt(b,10);return function(a){return Sb(a)==k}}},lf=C?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return Pa?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},Fd={},Cd={},Bd={},Ad=!!document.querySelectorAll&&
(!E||F("526")),da=0,kf=C?function(a){return Pa?a.getAttribute("_uid")||a.setAttribute("_uid",++da)||da:a.uniqueID}:function(a){return a._uid||(a._uid=++da)};a.fb=uc;return a}();ba("goog.dom.query",I);ba("goog.dom.query.pseudos",I.fb);var Ub=!C||C&&9<=kb,Vb=!C||C&&9<=kb,Wb=C&&!F("9");!E||F("528");D&&F("1.9b")||C&&F("8")||B&&F("9.5")||E&&F("528");D&&!F("8")||C&&F("9");function Xb(){0!=Yb&&(this.af=Error().stack,Zb[ja(this)]=this)}var Yb=0,Zb={};Xb.prototype.sc=!1;Xb.prototype.qb=function(){if(!this.sc&&(this.sc=!0,this.S(),0!=Yb)){var a=ja(this);delete Zb[a]}};Xb.prototype.S=function(){if(this.ec)for(;this.ec.length;)this.ec.shift()()};function $b(a){a&&"function"==typeof a.qb&&a.qb()};function ac(a,b){this.type=a;this.currentTarget=this.target=b}n=ac.prototype;n.S=f();n.qb=f();n.Oa=!1;n.defaultPrevented=!1;n.ke=!0;n.stopPropagation=function(){this.Oa=!0};n.preventDefault=function(){this.defaultPrevented=!0;this.ke=!1};function bc(a){a.preventDefault()};function cc(a){cc[" "](a);return a}cc[" "]=ca;function dc(a,b){a&&this.init(a,b)}t(dc,ac);var ec=[1,4,2];n=dc.prototype;n.target=null;n.relatedTarget=null;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.rd=!1;n.A=null;
n.init=function(a,b){var c=this.type=a.type;ac.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(D){var e;a:{try{cc(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=E||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=E||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.rd=Sa?a.metaKey:a.ctrlKey;this.state=a.state;this.A=a;a.defaultPrevented&&this.preventDefault();delete this.Oa};function fc(a){return(Ub?0==a.A.button:"click"==a.type?!0:!!(a.A.button&ec[0]))&&!(E&&Sa&&a.ctrlKey)}
n.stopPropagation=function(){dc.F.stopPropagation.call(this);this.A.stopPropagation?this.A.stopPropagation():this.A.cancelBubble=!0};n.preventDefault=function(){dc.F.preventDefault.call(this);var a=this.A;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.ye=m("A");n.S=f();var gc="closure_listenable_"+(1E6*Math.random()|0),hc=0;function ic(a,b,c,d,e,g){this.ua=a;this.ie=b;this.src=c;this.type=d;this.capture=!!e;this.sa=g;this.key=++hc;this.Ca=this.mb=!1}function jc(a){a.Ca=!0;a.ua=null;a.ie=null;a.src=null;a.sa=null};var kc={},J={},lc={},mc={};
function K(a,b,c,d,e){if(ga(b)){for(var g=0;g<b.length;g++)K(a,b[g],c,d,e);return null}c=nc(c);if(a&&a[gc])a=a.v(b,c,d,e);else a:{if(!b)throw Error("Invalid event type");d=!!d;var h=J;b in h||(h[b]={X:0});h=h[b];d in h||(h[d]={X:0},h.X++);var h=h[d],g=ja(a),k;if(h[g]){k=h[g];for(var l=0;l<k.length;l++)if(h=k[l],h.ua==c&&h.sa==e){if(h.Ca)break;k[l].mb=!1;a=k[l];break a}}else k=h[g]=[],h.X++;l=oc();h=new ic(c,l,a,b,d,e);h.mb=!1;l.src=a;l.ua=h;k.push(h);lc[g]||(lc[g]=[]);lc[g].push(h);a.addEventListener?
a.addEventListener(b,l,d):a.attachEvent(b in mc?mc[b]:mc[b]="on"+b,l);a=kc[h.key]=h}return a}function oc(){var a=pc,b=Vb?function(c){return a.call(b.src,b.ua,c)}:function(c){c=a.call(b.src,b.ua,c);if(!c)return c};return b}function qc(a,b,c,d,e){if(ga(b))for(var g=0;g<b.length;g++)qc(a,b[g],c,d,e);else if(c=nc(c),a&&a[gc])a.Ea(b,c,d,e);else if(d=!!d,a=rc(a,b,d))for(g=0;g<a.length;g++)if(a[g].ua==c&&a[g].capture==d&&a[g].sa==e){L(a[g]);break}}
function L(a){if("number"==typeof a||!a||a.Ca)return!1;var b=a.src;if(b&&b[gc])return sc(b.Ga,a);var c=a.type,d=a.ie,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in mc?mc[c]:mc[c]="on"+c,d);b=ja(b);lc[b]&&(d=lc[b],A(d,a),0==d.length&&delete lc[b]);jc(a);if(d=J[c][e][b])A(d,a),0==d.length&&(delete J[c][e][b],J[c][e].X--),0==J[c][e].X&&(delete J[c][e],J[c].X--),0==J[c].X&&delete J[c];delete kc[a.key];return!0}
function rc(a,b,c){var d=J;return b in d&&(d=d[b],c in d&&(d=d[c],a=ja(a),d[a]))?d[a]:null}function vc(a,b,c){var d=1;b=ja(b);if(a[b])for(a=Ha(a[b]),b=0;b<a.length;b++){var e=a[b];e&&!e.Ca&&(d&=!1!==wc(e,c))}return Boolean(d)}function wc(a,b){var c=a.ua,d=a.sa||a.src;a.mb&&L(a);return c.call(d,b)}
function pc(a,b){if(a.Ca)return!0;var c=a.type,d=J;if(!(c in d))return!0;var d=d[c],e,g;if(!Vb){if(!(c=b))a:{for(var c=["window","event"],h=p;e=c.shift();)if(null!=h[e])h=h[e];else{c=null;break a}c=h}e=c;c=!0 in d;h=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var k=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){k=!0}if(k||void 0==e.returnValue)e.returnValue=!0}}k=new dc;k.init(e,this);e=!0;try{if(c){for(var s=[],w=k.currentTarget;w;w=w.parentNode)s.push(w);g=d[!0];for(var u=
s.length-1;!k.Oa&&0<=u;u--)k.currentTarget=s[u],e&=vc(g,s[u],k);if(h)for(g=d[!1],u=0;!k.Oa&&u<s.length;u++)k.currentTarget=s[u],e&=vc(g,s[u],k)}else e=wc(a,k)}finally{s&&(s.length=0)}return e}d=new dc(b,this);return e=wc(a,d)}var xc="__closure_events_fn_"+(1E9*Math.random()>>>0);function nc(a){return r(a)?a:a[xc]||(a[xc]=function(b){return a.handleEvent(b)})};function yc(a){Xb.call(this);this.ae=a;this.t={}}t(yc,Xb);var zc=[];n=yc.prototype;n.v=function(a,b,c,d,e){ga(b)||(zc[0]=b,b=zc);for(var g=0;g<b.length;g++){var h=K(a,b[g],c||this,d||!1,e||this.ae||this);this.t[h.key]=h}return this};
n.Ea=function(a,b,c,d,e){if(ga(b))for(var g=0;g<b.length;g++)this.Ea(a,b[g],c,d,e);else{a:if(e=e||this.ae||this,d=!!d,c=nc(c||this),a&&a[gc])a=a.gd(b,c,d,e);else{if(a=rc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Ca&&a[b].ua==c&&a[b].capture==d&&a[b].sa==e){a=a[b];break a}a=null}a&&(L(a),delete this.t[a.key])}return this};n.Pa=function(){vb(this.t,L);this.t={}};n.S=function(){yc.F.S.call(this);this.Pa()};n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ac(a){this.src=a;this.$={};this.Mc=0}Ac.prototype.add=function(a,b,c,d,e){var g=this.$[a];g||(g=this.$[a]=[],this.Mc++);var h=Bc(g,b,d,e);-1<h?(a=g[h],c||(a.mb=!1)):(a=new ic(b,null,this.src,a,!!d,e),a.mb=c,g.push(a));return a};Ac.prototype.remove=function(a,b,c,d){if(!(a in this.$))return!1;var e=this.$[a];b=Bc(e,b,c,d);return-1<b?(jc(e[b]),x.splice.call(e,b,1),0==e.length&&(delete this.$[a],this.Mc--),!0):!1};
function sc(a,b){var c=b.type;if(!(c in a.$))return!1;var d=A(a.$[c],b);d&&(jc(b),0==a.$[c].length&&(delete a.$[c],a.Mc--));return d}Ac.prototype.Pa=function(a){var b=0,c;for(c in this.$)if(!a||c==a){for(var d=this.$[c],e=0;e<d.length;e++)++b,d[e].Ca=!0;delete this.$[c];this.Mc--}return b};Ac.prototype.gd=function(a,b,c,d){a=this.$[a];var e=-1;a&&(e=Bc(a,b,c,d));return-1<e?a[e]:null};
function Bc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.Ca&&g.ua==b&&g.capture==!!c&&g.sa==d)return e}return-1};function Cc(){Xb.call(this);this.Ga=new Ac(this);this.ve=this}t(Cc,Xb);Cc.prototype[gc]=!0;n=Cc.prototype;n.Ic=null;n.yd=function(a){this.Ic=a};n.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){qc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.Ic;if(c)for(b=[];c;c=c.Ic)b.push(c);var c=this.ve,d=a.type||a;if(q(a))a=new ac(a,c);else if(a instanceof ac)a.target=a.target||c;else{var e=a;a=new ac(d,c);xb(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.Oa&&0<=h;h--)g=a.currentTarget=b[h],e=Dc(g,d,!0,a)&&e;a.Oa||(g=a.currentTarget=c,e=Dc(g,d,!0,a)&&e,a.Oa||(e=Dc(g,d,!1,a)&&e));if(b)for(h=0;!a.Oa&&h<b.length;h++)g=a.currentTarget=b[h],e=Dc(g,d,!1,a)&&e;return e};
n.S=function(){Cc.F.S.call(this);this.Ga&&this.Ga.Pa(void 0);this.Ic=null};n.v=function(a,b,c,d){return this.Ga.add(a,b,!1,c,d)};n.Ea=function(a,b,c,d){return this.Ga.remove(a,b,c,d)};function Dc(a,b,c,d){b=a.Ga.$[b];if(!b)return!0;b=Ha(b);for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Ca&&h.capture==c){var k=h.ua,l=h.sa||h.src;h.mb&&sc(a.Ga,h);e=!1!==k.call(l,d)&&e}}return e&&!1!=d.ke}n.gd=function(a,b,c,d){return this.Ga.gd(a,b,c,d)};function Ec(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Ec.prototype.contains=function(a){return this&&a?a instanceof Ec?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};Ec.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Fc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Fc.prototype.contains=function(a){return a instanceof Fc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Fc.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function M(a,b,c){q(b)?Gc(a,c,b):vb(b,qa(Gc,a))}function Gc(a,b,c){(c=Hc(a,c))&&(a.style[c]=b)}function Hc(a,b){var c=za(b);if(void 0===a.style[c]){var d=(E?"Webkit":D?"Moz":C?"ms":B?"O":null)+Aa(b);if(void 0!==a.style[d])return d}return c}function Ic(a,b){var c=a.style[za(b)];return"undefined"!==typeof c?c:a.style[Hc(a,b)]||""}function N(a,b){var c=H(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function Jc(a,b){return N(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Kc(a,b,c){var d,e=D&&(Sa||Ya)&&F("1.9");b instanceof G?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Lc(d,e);a.style.top=Lc(b,e)}function Mc(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}C&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Nc(a){if(C&&!(C&&8<=kb))return a.offsetParent;var b=H(a),c=Jc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Jc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Oc(a){var b,c=H(a),d=Jc(a,"position"),e=D&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new G(0,0),h;b=c?H(c):document;(h=!C)||(h=C&&9<=kb)||(yb(b),h=!0);h=h?b.documentElement:b.body;if(a==h)return g;if(a.getBoundingClientRect)b=Mc(a),a=Pb(yb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{e=a;do{g.x+=e.offsetLeft;
g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(E&&"fixed"==Jc(e,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(B||E&&"absolute"==d)g.y-=c.body.offsetTop;for(e=a;(e=Nc(e))&&e!=c.body&&e!=h;)g.x-=e.scrollLeft,B&&"TR"==e.tagName||(g.y-=e.scrollTop)}return g}function Pc(a,b){var c=Qc(a),d=Qc(b);return new G(c.x-d.x,c.y-d.y)}
function Qc(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=Mc(a),b=new G(b.left,b.top);else{b=Pb(yb(a));var c=Oc(a);b=new G(c.x-b.x,c.y-b.y)}if(D&&!F(12)){var d;C?d="-ms-transform":E?d="-webkit-transform":B?d="-o-transform":D&&(d="-moz-transform");var e;d&&(e=Jc(a,d));e||(e=Jc(a,"transform"));a=e?(a=e.match(Rc))?new G(parseFloat(a[1]),parseFloat(a[2])):new G(0,0):new G(0,0);a=new G(b.x+a.x,b.y+a.y)}else a=b;return a}d=r(a.ye);e=a;a.targetTouches?e=a.targetTouches[0]:d&&a.A.targetTouches&&
(e=a.A.targetTouches[0]);return new G(e.clientX,e.clientY)}function Sc(a,b,c){if(b instanceof ub)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Lc(b,!0);a.style.height=Lc(c,!0)}function Lc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Tc(a){var b=Uc;if("none"!=Jc(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}function Uc(a){var b=a.offsetWidth,c=a.offsetHeight,d=E&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=Mc(a),new ub(a.right-a.left,a.bottom-a.top)):new ub(b,c)}function Vc(a){var b=Oc(a);a=Tc(a);return new Fc(b.x,b.y,a.width,a.height)}
function O(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Wc(a){return"rtl"==Jc(a,"direction")}var Xc=D?"MozUserSelect":E?"WebkitUserSelect":null;
function Yc(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}function Zc(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Yc(a,c):0}
function $c(a,b){if(C){var c=Zc(a,b+"Left"),d=Zc(a,b+"Right"),e=Zc(a,b+"Top"),g=Zc(a,b+"Bottom");return new Ec(e,d,g,c)}c=N(a,b+"Left");d=N(a,b+"Right");e=N(a,b+"Top");g=N(a,b+"Bottom");return new Ec(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var ad={thin:2,medium:4,thick:6};function bd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in ad?ad[c]:Yc(a,c)}
function cd(a){if(C){var b=bd(a,"borderLeft"),c=bd(a,"borderRight"),d=bd(a,"borderTop");a=bd(a,"borderBottom");return new Ec(d,c,a,b)}b=N(a,"borderLeftWidth");c=N(a,"borderRightWidth");d=N(a,"borderTopWidth");a=N(a,"borderBottomWidth");return new Ec(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Rc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function dd(a,b,c){Cc.call(this);this.target=a;this.handle=b||a;this.md=c||new Fc(NaN,NaN,NaN,NaN);this.ba=H(a);this.qa=new yc(this);a=qa($b,this.qa);this.ec||(this.ec=[]);this.ec.push(pa(a,void 0));K(this.handle,["touchstart","mousedown"],this.le,!1,this)}t(dd,Cc);var ed=C||D&&F("1.9.3");n=dd.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.ne=0;n.oe=0;n.ob=0;n.pb=0;n.Rd=!0;n.eb=!1;n.ce=0;n.Je=0;n.Fe=!1;n.Ad=!1;n.uc=m("qa");function fd(a,b){a.md=b||new Fc(NaN,NaN,NaN,NaN)}
n.S=function(){dd.F.S.call(this);qc(this.handle,["touchstart","mousedown"],this.le,!1,this);this.qa.Pa();ed&&this.ba.releaseCapture();this.handle=this.target=null};function gd(a){void 0===a.Qa&&(a.Qa=Wc(a.target));return a.Qa}
n.le=function(a){var b="mousedown"==a.type;if(!this.Rd||this.eb||b&&!fc(a))this.dispatchEvent("earlycancel");else{hd(a);if(0==this.ce)if(this.dispatchEvent(new id("start",this,a.clientX,a.clientY,a)))this.eb=!0,a.preventDefault();else return;else a.preventDefault();var b=this.ba,c=b.documentElement,d=!ed;this.qa.v(b,["touchmove","mousemove"],this.De,d);this.qa.v(b,["touchend","mouseup"],this.tc,d);ed?(c.setCapture(!1),this.qa.v(c,"losecapture",this.tc)):this.qa.v(b?b.parentWindow||b.defaultView:window,
"blur",this.tc);C&&this.Fe&&this.qa.v(b,"dragstart",bc);this.Pe&&this.qa.v(this.Pe,"scroll",this.Me,d);this.clientX=this.ne=a.clientX;this.clientY=this.oe=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Ad?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=Jc(a,"position")||(c=H(a).documentElement),c?(D?(d=cd(c),b+=d.left):C&&8<=kb&&(d=cd(c),b-=d.left),a=Wc(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.ob=a;this.pb=this.target.offsetTop;this.qd=Pb(yb(this.ba));
this.Je=ra()}};n.tc=function(a,b){this.qa.Pa();ed&&this.ba.releaseCapture();if(this.eb){hd(a);this.eb=!1;var c=jd(this,this.ob),d=kd(this,this.pb);this.dispatchEvent(new id("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function hd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.A.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.init(a.A.changedTouches[0],a.currentTarget)}
n.De=function(a){if(this.Rd){hd(a);var b=(this.Ad&&gd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.eb){var d=this.ne-this.clientX,e=this.oe-this.clientY;if(d*d+e*e>this.ce)if(this.dispatchEvent(new id("start",this,a.clientX,a.clientY,a)))this.eb=!0;else{this.sc||this.tc(a);return}}c=ld(this,b,c);b=c.x;c=c.y;this.eb&&this.dispatchEvent(new id("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(md(this,a,b,c),a.preventDefault())}};function ld(a,b,c){var d=Pb(yb(a.ba));b+=d.x-a.qd.x;c+=d.y-a.qd.y;a.qd=d;a.ob+=b;a.pb+=c;b=jd(a,a.ob);a=kd(a,a.pb);return new G(b,a)}n.Me=function(a){var b=ld(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;md(this,a,b.x,b.y)};function md(a,b,c,d){a.Qd(c,d);a.dispatchEvent(new id("drag",a,b.clientX,b.clientY,b,c,d))}
function jd(a,b){var c=a.md,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function kd(a,b){var c=a.md,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}n.Qd=function(a,b){this.Ad&&gd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function id(a,b,c,d,e,g,h,k){ac.call(this,a);this.clientX=c;this.clientY=d;this.$e=e;this.left=void 0!==g?g:b.ob;this.top=void 0!==h?h:b.pb;this.cf=b;this.bf=!!k}t(id,ac);function nd(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}}function od(a){window.addEventListener?window.addEventListener("load",a,!1):window.attachEvent&&window.attachEvent("onload",a)}
function pd(a,b){var c=document.createElement("div");M(c,"position","absolute");M(c,"top","0px");M(c,"right","0px");M(c,"width","5px");M(c,"height","100%");M(c,"cursor","e-resize");a.appendChild(c);var d=cd(a),d=Vc(a).width-d.right-d.left,c=new dd(c);fd(c,new Fc(d,0,800,0));c.Qd=function(c){M(a,"width",c+"px");b&&b()}}function qd(a){if(0<a.indexOf("://"))return a;var b=document.createElement("a");b.href=a;return b.protocol+"//"+b.host+b.pathname};function rd(){this.Kb=[]}rd.prototype.addHandler=function(a,b){this.Kb[a]||(this.Kb[a]=[]);this.Kb[a].push(b)};rd.prototype.wa=function(a,b){var c=this.Kb[a];c&&A(c,b)};rd.prototype.fireEvent=function(a,b,c){var d=!1;(a=this.Kb[a])&&y(a,function(a){a=a(b,c);void 0!==a&&!a&&(d=!0)});return d};function sd(a,b){this.va={};this.t=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof sd)td(a),e=a.t.concat(),d=S(a);else{var c=[],g=0;for(e in a)c[g++]=e;e=c;c=[];g=0;for(d in a)c[g++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}n=sd.prototype;n.X=0;n.Bd=0;function S(a){td(a);for(var b=[],c=0;c<a.t.length;c++)b.push(a.va[a.t[c]]);return b}
n.clear=function(){this.va={};this.Bd=this.X=this.t.length=0};n.remove=function(a){return ud(this.va,a)?(delete this.va[a],this.X--,this.Bd++,this.t.length>2*this.X&&td(this),!0):!1};function td(a){if(a.X!=a.t.length){for(var b=0,c=0;b<a.t.length;){var d=a.t[b];ud(a.va,d)&&(a.t[c++]=d);b++}a.t.length=c}if(a.X!=a.t.length){for(var e={},c=b=0;b<a.t.length;)d=a.t[b],ud(e,d)||(a.t[c++]=d,e[d]=1),b++;a.t.length=c}}n.get=function(a,b){return ud(this.va,a)?this.va[a]:b};
n.set=function(a,b){ud(this.va,a)||(this.X++,this.t.push(a),this.Bd++);this.va[a]=b};function ud(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function T(a,b){this.x=a;this.y=b};function vd(a){this.points=a}function wd(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}function xd(a){for(var b=0,c=0,d,e=a.length-1,g=0;g<a.length;g++)d=a[g].x*a[e].y-a[e].x*a[g].y,b+=(a[g].x+a[e].x)*d,c+=(a[g].y+a[e].y)*d,e=g;d=6*wd(a);return new T(Math.abs(b/d),Math.abs(c/d))}
function yd(a,b){for(var c=xd(a),d=[],e=0;e<a.length;e++){var g=a[e],h=(0>wd(a)?-1:1)*b,k=g.x-c.x,l=g.y-c.y,s=0<h?1:0>h?-1:0,h=Math.sqrt(Math.pow(h,2)/(1+Math.pow(k/l,2)));d.push({x:g.x+Math.abs(k/l*h)*(0<k?1:0>k?-1:0)*s,y:g.y+Math.abs(h)*(0<l?1:0>l?-1:0)*s})}return d};function zd(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function Kd(a,b,c,d,e){this.type=a;this.geometry=b;e&&a==U&&(this.mask=e);c&&(this.units=c);this.style=d?d:{}}var U="rect";function Ld(a,b,c){if(a.type==U||"arrow"==a.type)return a="arrow"==a.type?Md(a.geometry):a.geometry,b<a.x||c<a.y||b>a.x+a.width||c>a.y+a.height?!1:!0;if("polygon"==a.type){a=a.geometry.points;for(var d=!1,e=a.length-1,g=0;g<a.length;g++)a[g].y>c!=a[e].y>c&&b<(a[e].x-a[g].x)*(c-a[g].y)/(a[e].y-a[g].y)+a[g].x&&(d=!d),e=g;return d}return!1}
function Nd(a){return a.type==U||"arrow"==a.type?(a="arrow"==a.type?Md(a.geometry):a.geometry,a.width*a.height):"polygon"==a.type?Math.abs(wd(a.geometry.points)):0}function Od(a){if(a.type==U)return a;if("polygon"==a.type){for(var b=a.geometry.points,c=b[0].x,d=b[0].x,e=b[0].y,g=b[0].y,h=1;h<b.length;h++)b[h].x>d&&(d=b[h].x),b[h].x<c&&(c=b[h].x),b[h].y>g&&(g=b[h].y),b[h].y<e&&(e=b[h].y);return new Kd(U,new zd(c,e,d-c,g-e),!1,a.style)}if("arrow"==a.type)return new Kd(U,Md(a.geometry),!1,a.style)}
function Pd(a){if(a.type==U||"arrow"==a.type)return a="arrow"==a.type?Md(a.geometry):a.geometry,new T(a.x+a.width/2,a.y+a.height/2);if("polygon"==a.type)return xd(a.geometry.points)}function Qd(a,b){var c;c=a.geometry.points;var d=0>wd(c)?-1:1;if(4>c.length)c=yd(c,d*b);else{for(var e=c.length-1,g=1,h=[],k=0;k<c.length;k++)e=yd([c[e],c[k],c[g]],d*b),h.push(e[1]),e=k,g++,g>c.length-1&&(g=0);c=h}return new Kd("polygon",new vd(c),!1,a.style)}
function Rd(a,b){if(a.type==U){var c=b(a.geometry);return new Kd(U,c,!1,a.style,a.mask)}if("polygon"==a.type){var d=[];y(a.geometry.points,function(a){d.push(b(a))});return new Kd("polygon",new vd(d),!1,a.style)}if("arrow"==a.type)return new Kd("arrow",new Sd(b(a.geometry.arrowTail),b(a.geometry.arrowHead)),!1,a.style)}function V(a){return JSON.stringify(a.geometry)};function Td(a,b,c,d,e,g){this.id=g;this.src=a;this.text=b;this.textId=e;this.shapes=[c];this.created_at=d||Date.now();this.context=document.URL;this.setMask=this.setMask}Td.prototype.setMask=function(a,b,c,d){if(!b||this.shapes.length>=b)b=0;this.shapes[b].type!=U?console.log("WARNING: impossible to set mask in shape "+this.shapes[b].type):this.shapes[b].mask=a;c&&(this.shapes[b].style.maskTransparency=c);void 0!=d&&(this.shapes[b].style.maskBorder=d)};function Ud(){}function Vd(a,b){a.k=new sd;a.Tc=[];a.Ob=[];a.lb=[];a.hb=[];a.Oc=[];a.kc={wb:!1,vb:!1};a.ib=new sd;a.Fb={};a.Ld=b}function Wd(a,b){var c=a.ib.get(b);c||(c={wb:!1,vb:!1},a.ib.set(b,c));return c}
function Xd(a,b){var c=a.vc(b);if(!a.k.get(c)){var d=a.pd(b),e=[],g=[];y(a.Tc,function(a){d.addHandler(a.type,a.sa)});y(a.Ob,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});y(a.hb,function(a){a.src==c&&(d.R(a),e.push(a))});y(a.Oc,function(a){a.src==c&&(d.T(a),g.push(a))});y(e,function(b){A(a.hb,b)});y(g,function(b){A(a.Oc,b)});var h=a.ib.get(c);h?(h.wb&&d.Z(),h.vb&&d.Ba(),a.ib.remove(c)):(a.kc.wb&&d.Z(),a.kc.vb&&d.Ba());a.Fb&&0!==Object.keys(a.Fb).length&&d.D(a.Fb);a.k.set(c,d);A(a.lb,b)}}
function Yd(a){var b,c;for(c=a.lb.length;0<c;c--){for(var d=b=a.lb[c-1],e=d.offsetTop,g=d.offsetLeft,h=d.offsetWidth,k=d.offsetHeight;d.offsetParent;)d=d.offsetParent,e+=d.offsetTop,g+=d.offsetLeft;e<window.pageYOffset+window.innerHeight&&(g<window.pageXOffset+window.innerWidth&&e+k>window.pageYOffset&&g+h>window.pageXOffset)&&Xd(a,b)}}function Zd(a,b,c){if(b){var d=a.k.get(b);d?c?d.Sa():d.Ba():Wd(a,b).vb=c}else y(S(a.k),function(a){c?a.Sa():a.Ba()}),a.kc.vb=!c,y(S(a.ib),function(a){a.vb=!c})}
function $d(a,b,c){if(b){var d=a.k.get(b);d?c?d.da():d.Z():Wd(a,b).wb=c}else y(S(a.k),function(a){c?a.da():a.Z()}),a.kc.wb=!c,y(S(a.ib),function(a){a.wb=!c})}n=Ud.prototype;n.ya=function(a,b){var c=void 0,d=void 0;q(a)?(c=a,d=b):r(a)&&(d=a);c?(c=this.k.get(c))&&c.ya(d):y(S(this.k),function(a){a.ya(d)})};n.stopSelection=function(a){a?(a=this.k.get(a))&&a.stopSelection():y(S(this.k),function(a){a.stopSelection()})};
n.R=function(a,b){if(ae(this,a.src)){var c=this.k.get(a.src);c?c.R(a,b):(this.hb.push(a),b&&A(this.hb,b))}};n.addHandler=function(a,b){y(S(this.k),function(c){c.addHandler(a,b)});this.Tc.push({type:a,sa:b})};n.wa=function(a,b){y(S(this.k),function(c){c.wa(a,b)});y(this.Tc,function(c,d,e){c.type!==a||b&&c.sa!==b||x.splice.call(e,d,1)})};n.nc=function(a){this.Ob.push(a);y(S(this.k),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};
function ae(a,b){return ud(a.k.va,b)?!0:null!=Fa(a.lb,function(c){return a.vc(c)==b})}n.destroy=function(a){if(a){var b=this.k.get(a);b&&(b.destroy(),this.k.remove(a))}else y(S(this.k),function(a){a.destroy()}),this.k.clear()};n.Ia=function(a){if(ae(this,a)&&(a=this.k.get(a)))return a.Ia().getName()};n.M=function(a){if(a){var b=this.k.get(a);return b?b.M():Ca(this.hb,function(b){return b.src==a})}var c=[];y(S(this.k),function(a){Ia(c,a.M())});Ia(c,this.hb);return c};
n.Ja=function(a){if(ae(this,a)&&(a=this.k.get(a)))return Da(a.Ja(),function(a){return a.getName()})};n.Ba=function(a){Zd(this,a,!1)};n.Z=function(a){$d(this,a,!1)};n.J=function(a){if(a){if(ae(this,a.src)){var b=this.k.get(a.src);b&&b.J(a)}}else y(S(this.k),function(a){a.J()})};n.init=function(){this.Ld&&Ia(this.lb,this.Ld());Yd(this);var a=this,b=K(window,"scroll",function(){0<a.lb.length?Yd(a):L(b)})};n.nd=function(a){this.Lc(a)&&Xd(this,a)};
n.T=function(a){if(ae(this,a.src)){var b=this.k.get(a.src);b?b.T(a):this.Oc.push(a)}};n.gc=function(a,b){if(ae(this,a)){var c=this.k.get(a);c&&c.Kc(b)}};function be(a,b,c){b instanceof Object&&0!==Object.keys(b).length&&y(Object.keys(b),function(d){b[d]instanceof Object?(c.hasOwnProperty(d)&&c[d]||(c[d]=b[d]instanceof Array?[]:{}),be(a,b[d],c[d])):c[d]=b[d]})}function ce(a){a.Fb={};a.Sa();a.da()}
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length&&(be(this,a,this.Fb),a.hasOwnProperty("hideSelectionWidget")&&$d(this,void 0,!a.hideSelectionWidget),a.hasOwnProperty("hideAnnotations")&&Zd(this,void 0,!a.hideAnnotations),y(S(this.k),function(b){b.D(a)}))};n.Sa=function(a){Zd(this,a,!0)};n.bc=function(a,b){var c=this.k.get(a.src);return c?c.bc(a,b):[]};n.da=function(a){$d(this,a,!0)};var de={},ee={};function fe(a,b){var c=yb().createElement("DIV"),d=ge(a(b||he,void 0,void 0));c.innerHTML=d;return 1==c.childNodes.length&&(d=c.firstChild,1==d.nodeType)?d:c}function ge(a){return ia(a)?"zSoyz":String(a)}var he={};function ie(a,b){null!=a&&this.append.apply(this,arguments)}n=ie.prototype;n.bb="";n.set=function(a){this.bb=""+a};n.append=function(a,b,c){this.bb+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.bb+=arguments[d];return this};n.clear=function(){this.bb=""};n.toString=m("bb");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function je(){}
var ke={ef:"\x3c",df:"\x3e",Ye:"\x26",ff:"\u00a0",hf:'"',Ze:"'"},le={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,
object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},me=/&/g,ne=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,oe=/</g,pe=/>/g,qe=/\"/g,re=/=/g,se=/\0/g,te=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,ue=/^#(\d+)$/,ve=/^#x([0-9A-Fa-f]+)$/,we=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*\x3d\\s*(\"[^\"]*\"|'[^']*'|(?\x3d[a-z][a-z-]*\\s*\x3d)|[^\x3e\"'\\s]*))?)|(/?\x3e)|[^a-z\\s\x3e]+)",
"i"),xe=RegExp("^(?:\x26(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|\x3c[!]--[\\s\\S]*?--\x3e|\x3c!\\w[^\x3e]*\x3e|\x3c\\?[^\x3e*]*\x3e|\x3c(/)?([a-z][a-z0-9]*)|([^\x3c\x26\x3e]+)|([\x3c\x26\x3e]))","i");
je.prototype.parse=function(a,b){var c=null,d=!1,e=[],g,h,k;a.ia=[];for(a.La=!1;b;){var l=b.match(d?we:xe);b=b.substring(l[0].length);if(d)if(l[1]){var s=l[1].toLowerCase();if(l[2]){l=l[3];switch(l.charCodeAt(0)){case 34:case 39:l=l.substring(1,l.length-1)}l=l.replace(se,"").replace(te,pa(this.Ge,this))}else l=s;e.push(s,l)}else l[4]&&(void 0!==h&&(k?a.me&&a.me(g,e):a.Sd&&a.Sd(g)),k&&h&12&&(c=null===c?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("\x3c/"+g),0>d&&(d=b.length),h&4?a.Od&&
a.Od(b.substring(0,d)):a.je&&a.je(b.substring(0,d).replace(ne,"\x26amp;$1").replace(oe,"\x26lt;").replace(pe,"\x26gt;")),b=b.substring(d)),g=h=k=void 0,e.length=0,d=!1);else if(l[1])ye(a,l[0]);else if(l[3])k=!l[2],d=!0,g=l[3].toLowerCase(),h=le.hasOwnProperty(g)?le[g]:void 0;else if(l[4])ye(a,l[4]);else if(l[5])switch(l[5]){case "\x3c":ye(a,"\x26lt;");break;case "\x3e":ye(a,"\x26gt;");break;default:ye(a,"\x26amp;")}}for(c=a.ia.length;0<=--c;)a.Da.append("\x3c/",a.ia[c],"\x3e");a.ia.length=0};
je.prototype.Ge=function(a){a=a.toLowerCase();if(ke.hasOwnProperty(a))return ke[a];var b=a.match(ue);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(ve))?String.fromCharCode(parseInt(b[1],16)):""};function ze(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Ae(a,b){var c=new ie;(new je).parse(new Be(c,b,void 0),a);return c.toString()}function Be(a,b,c){this.Da=a;this.ia=[];this.La=!1;this.qe=b;this.Dc=c}t(Be,ze);
var Ce={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Be.prototype.me=function(a,b){if(!this.La&&le.hasOwnProperty(a)){var c=le[a];if(!(c&32))if(c&16)this.La=!(c&2);else{for(var d=b,e=0;e<d.length;e+=2){var g=d[e],h=d[e+1],k=null,l;if((l=a+"::"+g,Ce.hasOwnProperty(l))||(l="*::"+g,Ce.hasOwnProperty(l)))k=Ce[l];if(null!==k)switch(k){case 0:break;case 2:case 3:h=null;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.Dc?this.Dc(h):h;break;case 1:h=this.qe&&this.qe(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.Dc?this.Dc(h):h)&&(h="#"+h):h=null;break;
default:h=null}else h=null;d[e+1]=h}if(b=d){c&2||this.ia.push(a);this.Da.append("\x3c",a);c=0;for(d=b.length;c<d;c+=2)e=b[c],g=b[c+1],null!==g&&void 0!==g&&this.Da.append(" ",e,'\x3d"',g.replace(me,"\x26amp;").replace(oe,"\x26lt;").replace(pe,"\x26gt;").replace(qe,"\x26#34;").replace(re,"\x26#61;"),'"');this.Da.append("\x3e")}}}};
Be.prototype.Sd=function(a){if(this.La)this.La=!1;else if(le.hasOwnProperty(a)){var b=le[a];if(!(b&50)){if(b&1)for(b=this.ia.length;0<=--b;){var c=this.ia[b];if(c===a)break;if(!(le[c]&1))return}else for(b=this.ia.length;0<=--b&&this.ia[b]!==a;);if(!(0>b)){for(var d=this.ia.length;--d>b;)c=this.ia[d],le[c]&1||this.Da.append("\x3c/",c,"\x3e");this.ia.length=b;this.Da.append("\x3c/",a,"\x3e")}}}};function ye(a,b){a.La||a.Da.append(b)}Be.prototype.je=function(a){this.La||this.Da.append(a)};
Be.prototype.Od=function(a){this.La||this.Da.append(a)};function De(a,b,c,d,e){if(!(C||E&&F("525")))return!0;if(Sa&&e)return Ee(a);if(e&&!d||!c&&(17==b||18==b||Sa&&91==b))return!1;if(E&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(C&&d&&b==a)return!1;switch(a){case 13:return!(C&&C&&9<=kb);case 27:return!E}return Ee(a)}
function Ee(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||E&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Fe(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ge(a,b){Cc.call(this);a&&He(this,a,b)}t(Ge,Cc);n=Ge.prototype;n.L=null;n.zc=null;n.ld=null;n.Ac=null;n.ca=-1;n.Ma=-1;n.Zc=!1;
var Ie={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Je={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ke=C||E&&F("525"),Le=Sa&&D;n=Ge.prototype;
n.Ae=function(a){E&&(17==this.ca&&!a.ctrlKey||18==this.ca&&!a.altKey||Sa&&91==this.ca&&!a.metaKey)&&(this.Ma=this.ca=-1);-1==this.ca&&(a.ctrlKey&&17!=a.keyCode?this.ca=17:a.altKey&&18!=a.keyCode?this.ca=18:a.metaKey&&91!=a.keyCode&&(this.ca=91));Ke&&!De(a.keyCode,this.ca,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ma=D?Fe(a.keyCode):a.keyCode,Le&&(this.Zc=a.altKey))};n.Ce=function(a){this.Ma=this.ca=-1;this.Zc=a.altKey};
n.handleEvent=function(a){var b=a.A,c,d,e=b.altKey;C&&"keypress"==a.type?(c=this.Ma,d=13!=c&&27!=c?b.keyCode:0):E&&"keypress"==a.type?(c=this.Ma,d=0<=b.charCode&&63232>b.charCode&&Ee(c)?b.charCode:0):B?(c=this.Ma,d=Ee(c)?b.keyCode:0):(c=b.keyCode||this.Ma,d=b.charCode||0,Le&&(e=this.Zc),Sa&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Ie?g=Ie[c]:25==c&&a.shiftKey&&(g=9):h&&h in Je&&(g=Je[h]);a=g==this.ca;this.ca=g;b=new Me(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.h=m("L");
function He(a,b,c){a.Ac&&a.detach();a.L=b;a.zc=K(a.L,"keypress",a,c);a.ld=K(a.L,"keydown",a.Ae,c,a);a.Ac=K(a.L,"keyup",a.Ce,c,a)}n.detach=function(){this.zc&&(L(this.zc),L(this.ld),L(this.Ac),this.Ac=this.ld=this.zc=null);this.L=null;this.Ma=this.ca=-1};n.S=function(){Ge.F.S.call(this);this.detach()};function Me(a,b,c,d){d&&this.init(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(Me,dc);function Ne(){}ea(Ne);Ne.prototype.Le=0;Ne.ac();function Oe(a){Cc.call(this);this.Vb=a||yb();this.Qa=Pe}t(Oe,Cc);Oe.prototype.Ee=Ne.ac();var Pe=null;function Qe(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}n=Oe.prototype;n.xc=null;n.ta=!1;n.L=null;n.Qa=null;n.Ie=null;n.Na=null;n.qc=null;
n.cb=null;n.re=!1;function Re(a,b){if(a.Na&&a.Na.cb){var c=a.Na.cb,d=a.xc;d in c&&delete c[d];c=a.Na.cb;if(b in c)throw Error('The object already contains the key "'+b+'"');c[b]=a}a.xc=b}n.h=m("L");n.uc=function(){return this.tb||(this.tb=new yc(this))};n.yd=function(a){if(this.Na&&this.Na!=a)throw Error("Method not supported");Oe.F.yd.call(this,a)};n.Ud=m("Vb");
n.Ub=function(a){if(this.ta)throw Error("Component already rendered");if(a&&this.Tb(a)){this.re=!0;var b=H(a);this.Vb&&this.Vb.ba==b||(this.Vb=yb(a));this.Pd(a);this.rb()}else throw Error("Invalid element to decorate");};n.Tb=aa(!0);n.Pd=function(a){this.L=a};n.rb=function(){this.ta=!0;Se(this,function(a){!a.ta&&a.h()&&a.rb()})};n.Yb=function(){Se(this,function(a){a.ta&&a.Yb()});this.tb&&this.tb.Pa();this.ta=!1};
n.S=function(){this.ta&&this.Yb();this.tb&&(this.tb.qb(),delete this.tb);Se(this,function(a){a.qb()});!this.re&&this.L&&Ib(this.L);this.Na=this.Ie=this.L=this.cb=this.qc=null;Oe.F.S.call(this)};n.Zb=m("L");n.Ab=function(a){if(this.ta)throw Error("Component already rendered");this.Qa=a};function Se(a,b){a.qc&&y(a.qc,b,void 0)}
n.removeChild=function(a,b){if(a){var c=q(a)?a:a.xc||(a.xc=":"+(a.Ee.Le++).toString(36)),d;this.cb&&c?(d=this.cb,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.cb;c in d&&delete d[c];A(this.qc,a);b&&(a.Yb(),a.L&&Ib(a.L));c=a;if(null==c)throw Error("Unable to set parent component");c.Na=null;Oe.F.yd.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var Te;function Ue(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Te||(Te={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Te,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Ve(){}var We;ea(Ve);n=Ve.prototype;n.Zb=function(a){return a};n.Wb=function(a,b,c){if(a=a.h?a.h():a)if(C&&!F("7")){var d=Xe(ob(a),b);d.push(b);qa(c?pb:rb,a).apply(null,d)}else c?pb(a,b):rb(a,b)};n.Tb=aa(!0);
n.Ub=function(a,b){b.id&&Re(a,b.id);var c=this.Zb(b);c&&c.firstChild?Ye(a,c.firstChild.nextSibling?Ha(c.childNodes):c.firstChild):a.nb=null;var d=0,e=this.$b(),g=this.$b(),h=!1,k=!1,c=!1,l=ob(b);y(l,function(a){if(h||a!=e)if(k||a!=g){var b=d;if(!this.pe){this.rc||Ze(this);var c=this.rc,l={},s;for(s in c)l[c[s]]=s;this.pe=l}a=parseInt(this.pe[a],10);d=b|(isNaN(a)?0:a)}else k=!0;else h=!0,g==e&&(k=!0)},this);a.N=d;h||(l.push(e),g==e&&(k=!0));k||l.push(g);var s=a.ra;s&&l.push.apply(l,s);if(C&&!F("7")){var w=
Xe(l);0<w.length&&(l.push.apply(l,w),c=!0)}if(!h||!k||s||c)b.className=l.join(" ");$e(this,a,b);return b};function $e(a,b,c){b.Cb||Ue(c,"hidden",!b.Cb);b.isEnabled()||a.Bb(c,1,!b.isEnabled());b.ja&8&&a.Bb(c,8,!!(b.N&8));b.ja&16&&a.Bb(c,16,!!(b.N&16));b.ja&64&&a.Bb(c,64,!!(b.N&64))}
n.Jc=function(a,b){var c=!b,d=C||B?a.getElementsByTagName("*"):null;if(Xc){if(c=c?"none":"",a.style[Xc]=c,d)for(var e=0,g;g=d[e];e++)g.style[Xc]=c}else if(C||B)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.Ab=function(a,b){this.Wb(a,this.$b()+"-rtl",b)};n.fe=function(a){var b;return a.ja&32&&(b=a.sb())?Ob(b):!1};
n.xd=function(a,b){var c;if(a.ja&32&&(c=a.sb())){if(!b&&a.N&32){try{c.blur()}catch(d){}a.N&32&&a.Vd()}Ob(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.ha=function(a,b,c){var d=a.h();if(d){var e;this.rc||Ze(this);(e=this.rc[b])&&this.Wb(a,e,c);this.Bb(d,b,c)}};n.Bb=function(a,b,c){We||(We={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=We[b])&&Ue(a,b,c)};
n.Ra=function(a,b){var c=this.Zb(a);if(c&&(Gb(c),b))if(q(b))Nb(c,b);else{var d=function(a){if(a){var b=H(c);c.appendChild(q(a)?b.createTextNode(a):a)}};ga(b)?y(b,d):!ha(b)||"nodeType"in b?d(b):y(Ha(b),d)}};n.sb=function(a){return a.h()};n.$b=aa("goog-control");function Xe(a,b){var c=[];b&&(a=a.concat([b]));y([],function(d){!Ea(d,qa(Ga,a))||b&&!Ga(d,b)||c.push(d.join("_"))});return c}
function Ze(a){var b=a.$b();a.rc={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var af={};function W(a,b,c){Oe.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ja(b);if(d=af[d])break;b=b.F?b.F.constructor:null}b=d?r(d.ac)?d.ac():new d:null}this.U=b;this.nb=a}t(W,Oe);n=W.prototype;n.nb=null;n.N=0;n.ja=39;n.ad=255;n.Te=0;n.Cb=!0;n.ra=null;n.jd=!0;n.Yc=!1;n.Oe=null;function bf(a){a.ta&&!1!=a.jd&&cf(a,!1);a.jd=!1}n.sb=function(){return this.U.sb(this)};function df(a,b){b&&(a.ra?Ga(a.ra,b)||a.ra.push(b):a.ra=[b],a.U.Wb(a,b,!0))}
function ef(a,b){b&&(a.ra&&A(a.ra,b))&&(0==a.ra.length&&(a.ra=null),a.U.Wb(a,b,!1))}n.Wb=function(a,b){b?df(this,a):ef(this,a)};n.Zb=function(){return this.U.Zb(this.h())};n.Tb=function(a){return this.U.Tb(a)};n.Pd=function(a){this.L=a=this.U.Ub(this,a);var b=this.Oe||void 0;if(b){var c=a;b?c.setAttribute("role",b):c.removeAttribute("role")}this.Yc||this.U.Jc(a,!1);this.Cb="none"!=a.style.display};
n.rb=function(){W.F.rb.call(this);var a=this.U;null==this.Qa&&(this.Qa=Wc(this.ta?this.L:this.Vb.ba.body));this.Qa&&a.Ab(this.h(),!0);this.isEnabled()&&a.xd(this,this.Cb);if(this.ja&-2&&(this.jd&&cf(this,!0),this.ja&32&&(a=this.sb()))){var b=this.yb||(this.yb=new Ge);He(b,a);this.uc().v(b,"key",this.Be).v(a,"focus",this.ze).v(a,"blur",this.Vd)}};
function cf(a,b){var c=a.uc(),d=a.h();b?(c.v(d,"mouseover",a.Zd).v(d,"mousedown",a.Xd).v(d,"mouseup",a.$d).v(d,"mouseout",a.Yd),a.wc!=ca&&c.v(d,"contextmenu",a.wc),C&&c.v(d,"dblclick",a.Wd)):(c.Ea(d,"mouseover",a.Zd).Ea(d,"mousedown",a.Xd).Ea(d,"mouseup",a.$d).Ea(d,"mouseout",a.Yd),a.wc!=ca&&c.Ea(d,"contextmenu",a.wc),C&&c.Ea(d,"dblclick",a.Wd))}n.Yb=function(){W.F.Yb.call(this);this.yb&&this.yb.detach();this.Cb&&this.isEnabled()&&this.U.xd(this,!1)};
n.S=function(){W.F.S.call(this);this.yb&&(this.yb.qb(),delete this.yb);delete this.U;this.ra=this.nb=null};n.Ra=function(a){this.U.Ra(this.h(),a);this.nb=a};function Ye(a,b){a.nb=b}n.Ab=function(a){W.F.Ab.call(this,a);var b=this.h();b&&this.U.Ab(b,a)};n.Jc=function(a){this.Yc=a;var b=this.h();b&&this.U.Jc(b,a)};n.isEnabled=function(){return!(this.N&1)};function ff(a,b){gf(a,2,b)&&a.ha(2,b)}n.setActive=function(a){gf(this,4,a)&&this.ha(4,a)};
n.ha=function(a,b){this.ja&a&&b!=!!(this.N&a)&&(this.U.ha(this,a,b),this.N=b?this.N|a:this.N&~a)};function X(a,b){return!!(a.ad&b)&&!!(a.ja&b)}function gf(a,b,c){return!!(a.ja&b)&&!!(a.N&b)!=c&&(!(a.Te&b)||a.dispatchEvent(Qe(b,c)))&&!a.sc}n.Zd=function(a){(!a.relatedTarget||!Mb(this.h(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&X(this,2))&&ff(this,!0)};
n.Yd=function(a){a.relatedTarget&&Mb(this.h(),a.relatedTarget)||!this.dispatchEvent("leave")||(X(this,4)&&this.setActive(!1),X(this,2)&&ff(this,!1))};n.wc=ca;n.Xd=function(a){this.isEnabled()&&(X(this,2)&&ff(this,!0),fc(a)&&(X(this,4)&&this.setActive(!0),this.U.fe(this)&&this.sb().focus()));!this.Yc&&fc(a)&&a.preventDefault()};n.$d=function(a){this.isEnabled()&&(X(this,2)&&ff(this,!0),this.N&4&&(hf(this,a)&&X(this,4))&&this.setActive(!1))};n.Wd=function(a){this.isEnabled()&&hf(this,a)};
function hf(a,b){if(X(a,16)){var c=!(a.N&16);gf(a,16,c)&&a.ha(16,c)}X(a,8)&&gf(a,8,!0)&&a.ha(8,!0);X(a,64)&&(c=!(a.N&64),gf(a,64,c)&&a.ha(64,c));c=new ac("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.rd=b.rd);return a.dispatchEvent(c)}n.ze=function(){X(this,32)&&gf(this,32,!0)&&this.ha(32,!0)};n.Vd=function(){X(this,4)&&this.setActive(!1);X(this,32)&&gf(this,32,!1)&&this.ha(32,!1)};
n.Be=function(a){return this.Cb&&this.isEnabled()&&13==a.keyCode&&hf(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};if(!r(W))throw Error("Invalid component class "+W);if(!r(Ve))throw Error("Invalid renderer class "+Ve);var jf=ja(W);af[jf]=Ve;function nf(){return new W(null)}if(!r(nf))throw Error("Invalid decorator function "+nf);function of(){}t(of,Ve);ea(of);n=of.prototype;n.Ub=function(a,b){bf(a);a.ad&=-256;if(a.ta&&a.N&32)throw Error("Component already rendered");a.N&32&&a.ha(32,!1);a.ja&=-33;of.F.Ub.call(this,a,b);a.Ra(b.value);return b};n.Tb=function(a){return"TEXTAREA"==a.tagName};n.Ab=ca;n.fe=function(a){return a.isEnabled()};n.xd=ca;n.ha=function(a,b,c){of.F.ha.call(this,a,b,c);(a=a.h())&&1==b&&(a.disabled=c)};n.Bb=ca;n.Ra=function(a,b){a&&(a.value=b)};n.$b=aa("goog-textarea");function pf(a,b,c){W.call(this,a,b||of.ac(),c);bf(this);this.Jc(!0);a||(this.nb="")}t(pf,W);var qf=D||E;n=pf.prototype;n.xb=!1;n.Ka=0;n.He=0;n.he=0;n.be=!1;n.Cc=!1;n.vd=!1;n.ud=!1;function rf(a){return a.fc.top+a.fc.bottom+a.Nd.top+a.Nd.bottom}function sf(a){var b=a.he,c=a.h();b&&(c&&a.Cc)&&(b-=rf(a));return b}function tf(a){var b=a.He,c=a.h();b&&(c&&a.Cc)&&(b-=rf(a));return b}n.Ra=function(a){pf.F.Ra.call(this,a);this.h()&&this.ub()};
n.rb=function(){pf.F.rb.call(this);var a=this.h();M(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.fc=$c(a,"padding");this.Nd=cd(a);this.uc().v(a,"scroll",this.ub).v(a,"focus",this.ub).v(a,"keyup",this.ub).v(a,"mouseup",this.Ke);this.h()&&this.ub()};
function uf(a){if(!a.be){var b=a.h().cloneNode(!1);M(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ud().ba.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.vd=d>c;b.style.borderWidth="10px";a.ud=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Cc=!0);Ib(b);a.be=!0}var b=a.h(),c=a.h().scrollHeight,e=a.h(),d=e.offsetHeight-e.clientHeight;if(!a.vd)var g=a.fc,d=d-(g.top+g.bottom);
a.ud||(e=cd(e),d-=e.top+e.bottom);c+=0<d?d:0;a.Cc?c-=rf(a):(a.vd||(d=a.fc,c+=d.top+d.bottom),a.ud||(a=cd(b),c+=a.top+a.bottom));return c}function vf(a,b){a.Ka!=b&&(a.Ka=b,a.h().style.height=b+"px")}function wf(a){a=a.h();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.ub=function(){if(!this.xb){var a=!1;this.xb=!0;var b=this.h(),c=this.Ka;if(b.scrollHeight){var d=!1,e=!1,g=uf(this),h=b.offsetHeight,k=sf(this),l=tf(this);k&&g<k?(vf(this,k),d=!0):l&&g>l?(vf(this,l),b.style.overflowY="",e=!0):h!=g?vf(this,g):this.Ka||(this.Ka=g);d||(e||!qf)||(a=!0)}else wf(this);this.xb=!1;a&&(a=this.h(),this.xb||(this.xb=!0,(d=a.scrollHeight)?(e=uf(this),b=sf(this),g=tf(this),b&&e<=b||g&&e>=g||(g=this.fc,a.style.paddingBottom=g.bottom+1+"px",uf(this)==e&&(a.style.paddingBottom=
g.bottom+d+"px",a.scrollTop=0,d=uf(this)-d,d>=b?vf(this,d):vf(this,b)),a.style.paddingBottom=g.bottom+"px")):wf(this),this.xb=!1));c!=this.Ka&&this.dispatchEvent("resize")}};n.Ke=function(){var a=this.h(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ka&&(this.Ka=this.he=b)};C&&F(8);function xf(a){return a&&a.bd&&a.bd===de?a.content:String(a).replace(yf,zf)}var Af={"\x00":"\x26#0;",'"':"\x26quot;","\x26":"\x26amp;","'":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\t":"\x26#9;","\n":"\x26#10;","\x0B":"\x26#11;","\f":"\x26#12;","\r":"\x26#13;"," ":"\x26#32;","-":"\x26#45;","/":"\x26#47;","\x3d":"\x26#61;","`":"\x26#96;","\u0085":"\x26#133;","\u00a0":"\x26#160;","\u2028":"\x26#8232;","\u2029":"\x26#8233;"};function zf(a){return Af[a]}var yf=/[\x00\x22\x26\x27\x3c\x3e]/g;function Bf(){return'\x3cdiv class\x3d"annotorious-popup top-left" style\x3d"position:absolute;z-index:1"\x3e\x3cdiv class\x3d"annotorious-popup-buttons"\x3e\x3ca role\x3d"button" class\x3d"annotorious-popup-button annotorious-popup-button-edit" title\x3d"Edit"\x3eEDIT\x3c/a\x3e\x3ca role\x3d"button" class\x3d"annotorious-popup-button annotorious-popup-button-delete" title\x3d"Delete"\x3eDELETE\x3c/a\x3e\x3c/div\x3e\x3cspan class\x3d"annotorious-popup-text"\x3e\x3c/span\x3e\x3c/div\x3e'}
function Cf(){return'\x3cdiv class\x3d"annotorious-editor" style\x3d"position:absolute;z-index:1"\x3e\x3cform\x3e\x3ctextarea class\x3d"annotorious-editor-text" placeholder\x3d"Add a Comment..." tabindex\x3d"1"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"annotorious-editor-button-container"\x3e\x3ca role\x3d"button" class\x3d"annotorious-editor-button annotorious-editor-button-cancel" tabindex\x3d"3"\x3eCancel\x3c/a\x3e\x3ca role\x3d"button" class\x3d"annotorious-editor-button annotorious-editor-button-save" tabindex\x3d"2"\x3eSave\x3c/a\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e'};function Df(a){this.element=fe(Cf);this.d=a;this.se=a.getItem();this.fa=new pf("");this.Nc=I(".annotorious-editor-button-cancel",this.element)[0];this.jc=I(".annotorious-editor-button-save",this.element)[0];this.Cd=Lb(this.jc);this.Jb=[];this.ab=!1;this.c={Xb:!0,sd:!1,Ta:{placeholder:"Add a Comment...",className:"annotorious-editor-text"},buttons:{save:{text:"Save",className:"annotorious-editor-button annotorious-editor-button-save"},abort:{text:"Cancel",className:"annotorious-editor-button annotorious-editor-button-cancel"}},
Aa:void 0};this.g=JSON.parse(JSON.stringify(this.c));var b=this;K(this.Nc,"click",function(c){c.preventDefault();a.stopSelection(b.Mb);b.close()});K(this.jc,"click",function(c){c.preventDefault();if(!b.ab||!b.m.options[0].disabled||0!=b.m.selectedIndex&&b.m.value){c=b.Mb?{text:b.Mb.text,textId:b.Mb.textId}:void 0;var d=b.Td();a.R(d);a.stopSelection();b.Mb?a.fireEvent("onAnnotationUpdated",d,c):a.fireEvent("onAnnotationCreated",d,a.getItem());b.close()}});R(this.element,!1);a.element.appendChild(this.element);
this.fa.Ub(I(".annotorious-editor-text",this.element)[0]);pd(this.element,function(){var a=b.fa;a.h()&&a.ub()})}n=Df.prototype;n.Sb=function(a){var b=Eb("div","annotorious-editor-field");q(a)?b.innerHTML=a:r(a)?this.Jb.push({Y:b,fd:a}):Kb(a)&&b.appendChild(a);Hb(b,this.Cd)};
n.open=function(a){this.d.fireEvent("beforeEditorShown",a);this.jb=this.Mb=a;R(this.element,!0);this.ab?this.c.Xb?(this.m.classList.remove("d-none"),a&&-1<this.m.innerHTML.indexOf('value\x3d"'+a.text+'"')?this.m.value=a.text:this.m.options[0].selected=!0):this.m.classList.add("d-none"):this.c.Xb?(ef(this.fa,"d-none"),a&&this.fa.Ra(String(a.text)),this.fa.h().focus()):df(this.fa,"d-none");y(this.Jb,function(b){var c=b.fd(a);q(c)?b.Y.innerHTML=c:Kb(c)&&(Gb(b.Y),b.Y.appendChild(c))});this.d.fireEvent("onEditorShown",
a)};n.close=function(){R(this.element,!1);this.ab?this.m.value="":this.fa.Ra("")};n.setPosition=function(a){Kc(this.element,a.x,a.y)};n.Td=function(){var a=Ae(this.ab?this.m.value:this.fa.h().value,function(a){return a}),b=this.ab?this.m.options[this.m.selectedIndex].getAttribute("valueid"):void 0;this.jb?(this.jb.text=self.c.Xb?a:void 0,this.jb.textId=b):(this.jb=new Td(this.se.src,a,this.d.Ia().getShape(),void 0,b),this.jb.editable=!this.c.sd);return this.jb};
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("enterText")&&(this.c.Xb="boolean"===typeof a.enterText?a.enterText:this.g.Xb),a.hasOwnProperty("saveReadOnly")&&(this.c.sd=a.saveReadOnly||this.g.sd),a.hasOwnProperty("textarea")&&(a.textarea instanceof Object&&0!==Object.keys(a.textarea).length?(a.textarea.hasOwnProperty("placeholder")&&(this.c.Ta.placeholder=a.textarea.placeholder||this.g.Ta.placeholder),a.textarea.hasOwnProperty("className")&&(this.c.Ta.className=
a.textarea.className||this.g.Ta.className)):this.c.Ta=Object.assign({},this.g.Ta)),a.hasOwnProperty("buttons")&&(a.buttons instanceof Object&&0!==Object.keys(a.buttons).length?(a.buttons.hasOwnProperty("save")&&(a.buttons.save instanceof Object&&0!==Object.keys(a.buttons.save).length?(a.buttons.save.hasOwnProperty("text")&&(this.c.buttons.save.text=a.buttons.save.text||this.g.buttons.save.text),a.buttons.save.hasOwnProperty("className")&&(this.c.buttons.save.className=a.buttons.save.className||this.g.buttons.save.className)):
this.c.buttons.save=Object.assign({},this.g.buttons.save)),a.buttons.hasOwnProperty("abort")&&(a.buttons.abort instanceof Object&&0!==Object.keys(a.buttons.abort).length?(a.buttons.abort.hasOwnProperty("text")&&(this.c.buttons.abort.text=a.buttons.abort.text||this.g.buttons.abort.text),a.buttons.abort.hasOwnProperty("className")&&(this.c.buttons.abort.className=a.buttons.abort.className||this.g.buttons.abort.className)):this.c.buttons.abort=Object.assign({},this.g.buttons.abort))):this.c.buttons=
JSON.parse(JSON.stringify(this.g.buttons))),a.hasOwnProperty("extraFields")&&(this.c.Aa=a.extraFields)):this.c=JSON.parse(JSON.stringify(this.g));this.fa.h().placeholder=this.c.Ta.placeholder;this.fa.h().className=this.c.Ta.className;this.jc.innerHTML=this.c.buttons.save.text;this.jc.className=this.c.buttons.save.className;this.Nc.innerHTML=this.c.buttons.abort.text;this.Nc.className=this.c.buttons.abort.className;(a=I(".annotorious-editor-field",this.element)[0])&&a.remove();if(this.c.Aa&&Array.isArray(this.c.Aa)){var b=
this;y(this.c.Aa,function(a){b.Sb(a)})}};
function Ef(a,b){var c=!1;a.ab=b&&b instanceof Object&&b.enabled&&(c=Array.isArray(b.options))?!0:!1;a.ab?(df(a.fa,"d-none"),a.m?a.m.innerHTML="":(a.m=document.createElement("select"),a.m.classList.add("annotorious-editor-text")),c=b.options.slice(),c.unshift({value:""}),y(c,function(b){var c=new Option(b.value,b.value);if(b.id){var g=document.createAttribute("valueid");g.value=b.id;c.setAttributeNode(g)}a.m.appendChild(c)}),b.emptyOption||(a.m.options[0].disabled=!0,a.m.options[0].innerHTML=b.customLabel||
"\x3c--- Select one option ---\x3e"),Hb(a.m,a.Cd)):(c||console.log("WARNING: invalid option format"),ef(a.fa,"d-none"),a.m&&(a.m.remove(),delete a.m))}Df.prototype.addField=Df.prototype.Sb;Df.prototype.getAnnotation=Df.prototype.Td;function Ff(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=fe(Gf,{Bc:c});this.d=a;this.Hd=I(".annotorious-hint-msg",this.element)[0];this.Fd=I(".annotorious-hint-icon",this.element)[0];this.Wc=function(){d.show()};this.Vc=function(){Hf(d)};this.Db();Hf(this);b.appendChild(this.element)}
Ff.prototype.Db=function(){var a=this;this.Jd=K(this.Fd,"mouseover",function(){a.show();window.clearTimeout(a.Uc)});this.Id=K(this.Fd,"mouseout",function(){Hf(a)});this.d.addHandler("onMouseOverItem",this.Wc);this.d.addHandler("onMouseOutOfItem",this.Vc)};Ff.prototype.Va=function(){L(this.Jd);L(this.Id);this.d.wa("onMouseOverItem",this.Wc);this.d.wa("onMouseOutOfItem",this.Vc)};
Ff.prototype.show=function(){window.clearTimeout(this.Uc);O(this.Hd,0.8);var a=this;this.Uc=window.setTimeout(function(){Hf(a)},3E3)};function Hf(a){window.clearTimeout(a.Uc);O(a.Hd,0)}Ff.prototype.destroy=function(){this.Va();delete this.Jd;delete this.Id;delete this.Wc;delete this.Vc;Ib(this.element)};function If(a){this.element=fe(Bf);this.d=a;this.ue=I(".annotorious-popup-text",this.element)[0];this.ka=I(".annotorious-popup-buttons",this.element)[0];this.Qc=!1;this.Jb=[];this.c={Aa:void 0};this.g=JSON.parse(JSON.stringify(this.c));var b=I(".annotorious-popup-button-edit",this.ka)[0],c=I(".annotorious-popup-button-delete",this.ka)[0],d=this;K(b,"mouseover",function(){pb(b,"annotorious-popup-button-active")});K(b,"mouseout",function(){rb(b,"annotorious-popup-button-active")});K(b,"click",function(){O(d.element,
0);M(d.element,"pointer-events","none");a.ed(d.j)});K(c,"mouseover",function(){pb(c,"annotorious-popup-button-active")});K(c,"mouseout",function(){rb(c,"annotorious-popup-button-active")});K(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.j)||(O(d.element,0),M(d.element,"pointer-events","none"),a.T(d.j),a.fireEvent("onAnnotationRemoved",d.j))});Jf&&(K(this.element,"mouseover",function(){window.clearTimeout(d.Pc);0.9>Ic(d.ka,"opacity")&&O(d.ka,0.9);d.clearHideTimer()}),K(this.element,
"mouseout",function(){O(d.ka,0);d.startHideTimer()}),a.addHandler("onMouseOutOfItem",function(){d.startHideTimer()}));O(this.ka,0);O(this.element,0);M(this.element,"pointer-events","none");a.element.appendChild(this.element)}n=If.prototype;n.Sb=function(a){var b=Eb("div","annotorious-popup-field");q(a)?b.innerHTML=a:r(a)?this.Jb.push({Y:b,fd:a}):Kb(a)&&b.appendChild(a);this.element.appendChild(b)};
n.startHideTimer=function(){this.Qc=!1;if(!this.Pb){var a=this;this.Pb=window.setTimeout(function(){a.d.fireEvent("beforePopupHide",a);a.Qc||(O(a.element,0),M(a.element,"pointer-events","none"),O(a.ka,0.9),delete a.Pb)},150)}};n.clearHideTimer=function(){this.Qc=!0;this.Pb&&(window.clearTimeout(this.Pb),delete this.Pb)};
n.show=function(a,b){this.clearHideTimer();b&&this.setPosition(b);a&&this.setAnnotation(a);this.Pc&&window.clearTimeout(this.Pc);O(this.ka,0.9);if(Jf){var c=this;this.Pc=window.setTimeout(function(){O(c.ka,0)},1E3)}O(this.element,0.9);M(this.element,"pointer-events","auto");this.d.fireEvent("onPopupShown",this.j)};n.setPosition=function(a){Kc(this.element,new G(a.x,a.y))};
n.setAnnotation=function(a){this.j=a;this.ue.innerHTML=a.text?a.text.replace(/\n/g,"\x3cbr/\x3e"):'\x3cspan class\x3d"annotorious-popup-empty"\x3eNo comment\x3c/span\x3e';"editable"in a&&!1==a.editable?R(this.ka,!1):R(this.ka,!0);y(this.Jb,function(b){var c=b.fd(a);q(c)?b.Y.innerHTML=c:Kb(c)&&(Gb(b.Y),b.Y.appendChild(c))})};
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?a.hasOwnProperty("extraFields")&&(this.c.Aa=a.extraFields):this.c=JSON.parse(JSON.stringify(this.g));(a=I(".annotorious-popup-field",this.element)[0])&&a.remove();if(this.c.Aa&&Array.isArray(this.c.Aa)){var b=this;y(this.c.Aa,function(a){b.Sb(a)})}};If.prototype.addField=If.prototype.Sb;function Kf(){}n=Kf.prototype;n.R=function(a,b){this.l.R(a,b)};n.bc=function(a,b){var c=this,d="pixel"==a.shapes[0].units?Rd(a.shapes[0],function(a){return Lf(c,a)}):Rd(a.shapes[0],function(a){return c.Ha(a)}),d=Pd(d);return this.ga(d.x,d.y).filter(function(c){return V(c.shapes[0])!=V(a.shapes[0])&&(!b||c.shapes[0].type==b)})};n.addHandler=function(a,b){this.O.addHandler(a,b)};n.wa=function(a){this.O.wa(a)};n.fireEvent=function(a,b,c){return this.O.fireEvent(a,b,c)};n.Ia=m("P");n.J=function(a){this.l.J(a)};
n.T=function(a){this.l.T(a)};n.wa=function(a,b){this.O.wa(a,b)};n.stopSelection=function(a){Jf&&R(this.f,!1);this.Rb&&(this.Rb(),delete this.Rb);this.P.stopSelection();a&&this.l.R(a)};
function Mf(a,b){K(b,Nf,function(c){c=Of(c,b);a.l.J(!1);var d=void 0;if(a.Qb){if(a.Ed){d=a.l.ga(c.x,c.y);if(!d.length)return;d=d.filter(function(a){return a.shapes[0].type==U});if(!d.length)return}R(a.f,!0);a.P.startSelection(c.x,c.y,d?a.l.H[V(d[0].shapes[0])]:void 0)}else d=a.l.ga(c.x,c.y),0<d.length&&a.l.J(d[0])})};function Pf(a,b){this.n=a;this.d=b;this.gb=[];this.H=[];this.B=this.n.getContext("2d");this.kb=!0;this.lc=!1;this.e={enabled:!1,kd:!1,mode:"active",color:"#2ECC71",strokeWidth:2,mc:!1,Ib:[],Sc:[],te:0};this.Gb=Object.assign({},this.e);var c=this;K(this.n,Qf,function(a){var b=Rf(c.d,Of(a,c.n));if(c.kb)a:{var g=c.zd(a.offsetX,a.offsetY);g&&(c.lc=c.lc&&g==c.j);if(c.e.enabled&&c.e.mc){if(c.e.kd&&(c.e.hc||(c.e.hc=c.j||g),!c.j||!g||!Ld(c.H[V(c.e.hc.shapes[0])],a.offsetX,a.offsetY)))break a;var g=new Kd("point",
new T(a.offsetX,a.offsetY),!1,{fill:c.e.color,strokeWidth:c.e.strokeWidth}),h="pixel"==c.d.Hc?b:c.d.Ua(g.geometry);c.e.Ib.push(h);"release"!=c.e.mode&&c.e.Sc.push(g);Sf(c,g)}else c.j?c.j==g&&c.lc||(c.kb=!1,c.d.popup.startHideTimer()):(c.j=g,Tf(c),c.d.fireEvent("onMouseOverAnnotation",{I:c.j,mouseEvent:a}))}else c.Eb=a;c.d.fireEvent("onMouseMoveOverItem",{cursor:b},a)});K(this.n,Nf,function(){c.e.enabled&&(c.e.mc=!0);void 0!==c.j&&!1!=c.j&&c.d.fireEvent("onAnnotationClicked",c.j)});b.addHandler("onMouseOutOfItem",
function(){delete c.j;c.kb=!0});b.addHandler("beforePopupHide",function(){if(!c.kb&&c.Eb){var a=c.j;c.j=c.zd(c.Eb.offsetX,c.Eb.offsetY);c.kb=!0;a!=c.j?(Tf(c),c.d.fireEvent("onMouseOutOfAnnotation",{I:a,mouseEvent:c.Eb}),c.d.fireEvent("onMouseOverAnnotation",{I:c.j,mouseEvent:c.Eb})):c.j&&c.d.popup.clearHideTimer()}else Tf(c)})}n=Pf.prototype;
n.R=function(a,b){b&&(b==this.j&&delete this.j,A(this.gb,b),delete this.H[V(b.shapes[0])]);if(!this.H[V(a.shapes[0])]){this.gb.push(a);var c=a.shapes[0],d=this;"pixel"==c.units?(c=Rd(c,function(a){return Lf(d.d,a)}),"fraction"==this.d.Hc&&(a.shapes[0]=Rd(c,function(a){return d.d.Ua(a)}),a.shapes[0].units="fraction")):(c=Rd(c,function(a){return d.d.Ha(a)}),"pixel"==this.d.Hc&&(a.shapes[0]=Rd(c,function(a){return Rf(d.d,a)}),a.shapes[0].units="pixel"));this.H[V(a.shapes[0])]=c;Tf(this)}};
n.T=function(a){a==this.j&&delete this.j;A(this.gb,a);delete this.H[V(a.shapes[0])];Tf(this)};n.M=function(){return Ha(this.gb)};n.J=function(a){(this.j=a)?this.lc=!0:this.d.popup.startHideTimer();Tf(this);this.kb=!0};n.zd=function(a,b){var c=this.ga(a,b);if(0<c.length)return c[0]};n.ga=function(a,b){var c=[],d=this;y(this.gb,function(e){Ld(d.H[V(e.shapes[0])],a,b)&&c.push(e)});Ka(c,function(a,b){var c=d.H[V(a.shapes[0])],k=d.H[V(b.shapes[0])];return Nd(c)-Nd(k)});return c};
function Sf(a,b,c){var d=Fa(a.d.Ja(),function(a){a=a.getSupportedShapeType();return Array.isArray(a)?-1!=Ba(a,b.type):a==b.type});d?d.drawShape(a.B,b,c):console.log("WARNING unsupported shape type: "+b.type)}
function Tf(a){if(!a.e.enabled||!a.e.mc){a.B.clearRect(0,0,a.n.width,a.n.height);y(a.gb,function(b){b!=a.j&&Sf(a,a.H[V(b.shapes[0])])});if(a.j){var b=a.H[V(a.j.shapes[0])];Sf(a,b,!0);b=Od(b).geometry;a.d.popup.show(a.j,new T(b.x,b.y+b.height+5))}"release"!=a.e.mode&&y(a.e.Sc,function(b){Sf(a,b)})}}
n.wd=function(a){a instanceof Object&&0!==Object.keys(a).length?(this.e.enabled=a.enabled,this.e.kd="boolean"===typeof a.insideAnno?a.insideAnno:this.Gb.kd,"permanent"===a.mode||"release"===a.mode?this.e.mode=a.mode:"permanent"!==this.e.mode&&(this.e.mode=this.Gb.mode),this.e.color=a.color?a.color:this.Gb.color,this.e.strokeWidth=a.strokeWidth?a.strokeWidth:this.Gb.strokeWidth):(a=this.e.mode,this.e=Object.assign({Q:this.e.Q},this.Gb),"permanent"===a&&(this.e.mode=a));if(this.e.enabled){if(!this.e.Q){var b=
this;this.e.Q=K(this.n,Uf,function(){b.e.mc=!1;0<b.e.Ib.length&&b.d.fireEvent("onDrawnPixels",{drawnPixels:b.e.Ib,annotation:b.e.hc});b.e.Ib=[];b.e.hc=void 0;b.e.te=0;"release"===b.e.mode&&Tf(b)})}this.d.Z()}else this.e.Q&&(L(this.e.Q),delete this.e.Q),"active"===this.e.mode&&(this.e.Sc=[],Tf(this)),this.e.Ib=[],this.d.da()};var Vf="ontouchstart"in window,Jf=!Vf,Nf=Vf?"touchstart":"mousedown",Wf=Vf?"touchenter":"mouseover",Qf=Vf?"touchmove":"mousemove",Uf=Vf?"touchend":"mouseup",Xf=Vf?"touchleave":"mouseout";function Of(a,b){var c=!1;a.offsetX=a.offsetX?a.offsetX:!1;a.offsetY=a.offsetY?a.offsetY:!1;return c=a.offsetX&&a.offsetY||!a.A.changedTouches?{x:a.offsetX,y:a.offsetY}:{x:a.A.changedTouches[0].clientX-nd(b).left,y:a.A.changedTouches[0].clientY-nd(b).top}};function Yf(){}n=Yf.prototype;n.init=function(a,b){this.n=b;this.d=a;this.B=b.getContext("2d");this.Wa=!1;this.c={outline:"#000000",outlineWidth:1,hiOutline:"#000000",hiOutlineWidth:1,stroke:"#ffffff",strokeWidth:1,hiStroke:"#fff000",hiStrokeWidth:1.2,fill:void 0,hiFill:void 0,maskTransparency:0.8,maskBorder:!0};this.g=Object.assign({},this.c);this.Md=!1};
n.Db=function(a,b){var c=this,d=this.n;this.Ya=K(this.n,Qf,function(a){var g=Of(a,d);if(c.Wa&&(!b||Ld(b,g.x,g.y))){c.W={x:g.x,y:g.y};c.B.clearRect(0,0,d.width,d.height);var h=c.W.x-c.V.x,k=c.W.y-c.V.y,g=Rf(c.d,g),l=Rf(c.d,{x:c.V.x,y:c.V.y,width:h,height:k});c.d.fireEvent("onMouseMoveOverItem",{cursor:g,box:l},a);c.Md?(a=c.getViewportBounds(),k=Math.abs(k),h=Math.abs(h),c.B.lineWidth=c.B.lineWidth=c.c.strokeWidth,c.B.strokeStyle=c.c.stroke,c.B.fillStyle="rgba(0,0,0,0.45)",c.B.fillRect(0,0,c.n.width,
a.top),c.B.fillRect(a.right,a.top,c.n.width-a.right,k),c.B.fillRect(0,a.bottom,c.n.width,c.n.height-a.bottom),c.B.fillRect(0,a.top,a.left,k),c.B.strokeRect(a.left+0.5,a.top+0.5,h,k)):c.drawShape(c.B,{type:U,geometry:{x:0<h?c.V.x:c.W.x,y:0<k?c.V.y:c.W.y,width:Math.abs(h),height:Math.abs(k)},style:{}})}});this.Za=K(d,Uf,function(a){var b=Of(a,d),h=c.getShape();a=a.A?a.A:a;c.Wa=!1;h?(c.Va(),c.d.fireEvent("onSelectionCompleted",{mouseEvent:a,shape:h,viewportBounds:c.getViewportBounds()})):(c.d.fireEvent("onSelectionCanceled"),
a=c.d.ga(b.x,b.y),0<a.length&&c.d.J(a[0]))})};n.Va=function(){this.Ya&&(L(this.Ya),delete this.Ya);this.Za&&(L(this.Za),delete this.Za)};n.getName=aa("rect_drag");n.getSupportedShapeType=function(){return[U,"point"]};function Zf(a,b){a.Md=b}
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("outline")&&(this.c.outline=a.outline||this.g.outline),a.hasOwnProperty("outlineWidth")&&(this.c.outlineWidth=a.outlineWidth||this.g.outlineWidth),a.hasOwnProperty("hiOutline")&&(this.c.hiOutline=a.hiOutline||this.g.hiOutline),a.hasOwnProperty("hiOutlineWidth")&&(this.c.hiOutlineWidth=a.hiOutlineWidth||this.g.hiOutlineWidth),a.hasOwnProperty("stroke")&&(this.c.stroke=a.stroke||this.g.stroke),a.hasOwnProperty("strokeWidth")&&
(this.c.strokeWidth=a.strokeWidth||this.g.strokeWidth),a.hasOwnProperty("hiStroke")&&(this.c.hiStroke=a.hiStroke||this.g.hiStroke),a.hasOwnProperty("hiStrokeWidth")&&(this.c.hiStrokeWidth=a.hiStrokeWidth||this.g.hiStrokeWidth),a.hasOwnProperty("fill")&&(this.c.fill=a.fill||this.g.fill),a.hasOwnProperty("hiFill")&&(this.c.hiFill=a.hiFill||this.g.hiFill),a.hasOwnProperty("maskTransparency")&&(this.c.maskTransparency=a.maskTransparency||this.g.maskTransparency),a.hasOwnProperty("maskBorder")&&(this.c.maskBorder=
"boolean"===typeof a.maskBorder?a.maskBorder:this.g.maskBorder)):this.c=Object.assign({},this.g)};n.startSelection=function(a,b,c){var d={x:a,y:b};this.Wa=!0;this.Db(d,c);this.V=new T(a,b);this.d.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});M(document.body,"-webkit-user-select","none")};n.stopSelection=function(){this.Va();this.B.clearRect(0,0,this.n.width,this.n.height);M(document.body,"-webkit-user-select","auto");delete this.W};
n.getShape=function(){if(this.W&&3<Math.abs(this.W.x-this.V.x)&&3<Math.abs(this.W.y-this.V.y)){var a=this.getViewportBounds(),a=this.d.Ua({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});return new Kd(U,a)}};n.getViewportBounds=function(){var a,b;this.W.x>this.V.x?(a=this.W.x,b=this.V.x):(a=this.V.x,b=this.W.x);var c,d;this.W.y>this.V.y?(c=this.V.y,d=this.W.y):(c=this.W.y,d=this.V.y);return{top:c,right:a,bottom:d,left:b}};
n.drawShape=function(a,b,c){var d=b.geometry,e,g,h,k,l;b.style||(b.style={});if(b.type==U){c?(g=b.style.hiFill||this.c.hiFill,e=b.style.hiStroke||this.c.hiStroke,h=b.style.hiOutline||this.c.hiOutline,k=b.style.hiOutlineWidth||this.c.hiOutlineWidth,l=b.style.hiStrokeWidth||this.c.hiStrokeWidth):(g=b.style.fill||this.c.fill,e=b.style.stroke||this.c.stroke,h=b.style.outline||this.c.outline,k=b.style.outlineWidth||this.c.outlineWidth,l=b.style.strokeWidth||this.c.strokeWidth);if(b.mask){if(!b.hasOwnProperty("_loadedMask")||
b._loadedMask.url!=b.mask){Object.defineProperty(b,"_loadedMask",{enumerable:!1,writable:!0});var s=this;b._loadedMask={yc:new Image,url:b.mask};b._loadedMask.yc.onload=function(){s.drawShape(a,b,c)};b._loadedMask.yc.src=b.mask}if(b._loadedMask.yc){a.globalAlpha=b.style.maskTransparency||this.c.maskTransparency;a.drawImage(b._loadedMask.yc,d.x,d.y,d.width,d.height);a.globalAlpha=1;if(void 0!=b.style.maskBorder&&!b.style.maskBorder||void 0==b.style.maskBorder&&!this.c.maskBorder)return;d={x:d.x-l-
k,y:d.y-l-k,width:d.width+l+k,height:d.height+l+k}}}a.lineJoin="round";a.lineWidth=k;a.strokeStyle=h;a.strokeRect(d.x+k/2,d.y+k/2,d.width-k,d.height-k);a.lineJoin="miter";a.lineWidth=l;a.strokeStyle=e;a.strokeRect(d.x+k+l/2,d.y+k+l/2,d.width-2*k-l,d.height-2*k-l);g&&(a.lineJoin="miter",a.lineWidth=l,a.fillStyle=g,a.fillRect(d.x+k+l/2,d.y+k+l/2,d.width-2*k-l,d.height-2*k-l))}else"point"==b.type&&(g=b.style.fill||this.c.fill,l=b.style.strokeWidth||this.c.strokeWidth,a.beginPath(),a.fillStyle=g,a.arc(d.x,
d.y,l,0,l*Math.PI,!1),a.fill())};function Sd(a,b){this.arrowTail=a;this.arrowHead=b}function Md(a){var b,c;a.arrowHead.x>a.arrowTail.x?(b=a.arrowHead.x,c=a.arrowTail.x):(b=a.arrowTail.x,c=a.arrowHead.x);var d;a.arrowHead.y>a.arrowTail.y?(d=a.arrowTail.y,a=a.arrowHead.y):(d=a.arrowHead.y,a=a.arrowTail.y);return new zd(c,d,b-c,a+5-d)};function $f(){}n=$f.prototype;n.init=function(a,b){this.n=b;this.d=a;this.B=b.getContext("2d");this.Wa=!1;this.c={arrowStroke:"#ffffff",arrowStrokeWidth:2,hiArrowStroke:"#fff000",hiArrowStrokeWidth:2.2,highlightTail:void 0,hiTailRadius:5,highlightHead:void 0,hiHeadRadius:5};this.g=Object.assign({},this.c)};
n.Db=function(a,b){var c=this,d=this.n;this.Ya=K(this.n,Qf,function(a){var g=Of(a,d);!c.Wa||b&&!Ld(b,g.x,g.y)||(c.ea=new T(g.x,g.y),c.B.clearRect(0,0,d.width,d.height),g=Rf(c.d,g),c.d.fireEvent("onMouseMoveOverItem",{cursor:g},a),c.drawShape(c.B,{type:"arrow",geometry:new Sd(c.oa,c.ea),style:{}}))});this.Za=K(d,Uf,function(a){var b=Of(a,d),h=c.getShape();a=a.A?a.A:a;c.Wa=!1;h?(c.Va(),c.d.fireEvent("onSelectionCompleted",{mouseEvent:a,shape:h,viewportBounds:c.getViewportBounds()})):(c.d.fireEvent("onSelectionCanceled"),
a=c.d.ga(b.x,b.y),0<a.length&&c.d.J(a[0]))})};n.Va=function(){this.Ya&&(L(this.Ya),delete this.Ya);this.Za&&(L(this.Za),delete this.Za)};n.getName=aa("arrow_drag");n.getSupportedShapeType=aa("arrow");
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("arrowStroke")&&(this.c.arrowStroke=a.arrowStroke||this.g.arrowStroke),a.hasOwnProperty("arrowStrokeWidth")&&(this.c.arrowStrokeWidth=a.arrowStrokeWidth||this.g.arrowStrokeWidth),a.hasOwnProperty("hiArrowStroke")&&(this.c.hiArrowStroke=a.hiArrowStroke||this.g.hiArrowStroke),a.hasOwnProperty("hiArrowStrokeWidth")&&(this.c.hiArrowStrokeWidth=a.hiArrowStrokeWidth||this.g.hiArrowStrokeWidth),a.hasOwnProperty("highlightTail")&&
(this.c.highlightTail=a.highlightTail||this.g.highlightTail),a.hasOwnProperty("hiTailRadius")&&(this.c.hiTailRadius=a.hiTailRadius||this.g.hiTailRadius),a.hasOwnProperty("highlightHead")&&(this.c.highlightHead=a.highlightHead||this.g.highlightHead),a.hasOwnProperty("hiHeadRadius")&&(this.c.hiHeadRadius=a.hiHeadRadius||this.g.hiHeadRadius)):this.c=Object.assign({},this.g)};
n.startSelection=function(a,b,c){var d={x:a,y:b};this.Wa=!0;this.Db(d,c);this.oa=new T(a,b);this.d.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});M(document.body,"-webkit-user-select","none")};n.stopSelection=function(){this.Va();this.B.clearRect(0,0,this.n.width,this.n.height);M(document.body,"-webkit-user-select","auto");delete this.ea};n.getShape=function(){if(this.ea&&(5<Math.abs(this.ea.x-this.oa.x)||5<Math.abs(this.ea.y-this.oa.y)))return new Kd("arrow",new Sd(this.d.Ua(this.oa),this.d.Ua(this.ea)))};
n.getViewportBounds=function(){var a,b;this.ea.x>this.oa.x?(a=this.ea.x,b=this.oa.x):(a=this.oa.x,b=this.ea.x);var c,d;this.ea.y>this.oa.y?(c=this.oa.y,d=this.ea.y):(c=this.ea.y,d=this.oa.y);return{top:c,right:a,bottom:d+5,left:b}};
n.drawShape=function(a,b,c){b.style||(b.style={});if("arrow"==b.type){var d=b.geometry;c?(a.strokeStyle=a.fillStyle=b.style.hiArrowStroke||this.c.hiArrowStroke,a.lineWidth=b.style.hiArrowStrokeWidth||this.c.hiArrowStrokeWidth):(a.strokeStyle=a.fillStyle=b.style.arrowStroke||this.c.arrowStroke,a.lineWidth=b.style.arrowStrokeWidth||this.c.arrowStrokeWidth);c=Math.PI/5;var e=3*a.lineWidth,g=Math.sqrt((d.arrowHead.x-d.arrowTail.x)*(d.arrowHead.x-d.arrowTail.x)+(d.arrowHead.y-d.arrowTail.y)*(d.arrowHead.y-
d.arrowTail.y)),h=(g-e/3)/g,g=Math.round(d.arrowTail.x+(d.arrowHead.x-d.arrowTail.x)*h),h=Math.round(d.arrowTail.y+(d.arrowHead.y-d.arrowTail.y)*h);a.beginPath();a.moveTo(d.arrowTail.x,d.arrowTail.y);a.lineTo(g,h);a.stroke();var k=Math.atan2(d.arrowHead.y-d.arrowTail.y,d.arrowHead.x-d.arrowTail.x),g=Math.abs(e/Math.cos(c)),h=k+Math.PI+c,e=d.arrowHead.x+Math.cos(h)*g,h=d.arrowHead.y+Math.sin(h)*g,k=k+Math.PI-c;c=d.arrowHead.x+Math.cos(k)*g;g=d.arrowHead.y+Math.sin(k)*g;a.save();a.beginPath();a.moveTo(e,
h);a.lineTo(d.arrowHead.x,d.arrowHead.y);a.lineTo(c,g);a.beginPath();a.moveTo(e,h);a.lineTo(d.arrowHead.x,d.arrowHead.y);a.lineTo(c,g);a.lineTo(e,h);a.fill();if(b.style.highlightTail||this.c.highlightTail)a.beginPath(),a.arc(d.arrowTail.x,d.arrowTail.y,b.style.hiTailRadius||this.c.hiTailRadius,0,2*Math.PI,!1),a.fillStyle=b.style.highlightTail||this.c.highlightTail,a.fill();if(b.style.highlightHead||this.c.highlightHead)a.beginPath(),a.arc(d.arrowHead.x,d.arrowHead.y,b.style.hiHeadRadius||this.c.hiHeadRadius,
0,2*Math.PI,!1),a.fillStyle=b.style.highlightHead||this.c.highlightHead,a.fill();a.restore()}};function ag(a){return'\x3ccanvas class\x3d"annotorious-item annotorious-opacity-fade" style\x3d"position:absolute; top:0px; left:0px; width:'+xf(a.width)+"px; height:"+xf(a.height)+'px; z-index:0" width\x3d"'+xf(a.width)+'" height\x3d"'+xf(a.height)+'"\x3e\x3c/canvas\x3e'}
function Gf(a){return'\x3cdiv class\x3d"annotorious-hint" style\x3d"white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"\x3e\x3cdiv class\x3d"annotorious-hint-msg annotorious-opacity-fade"\x3e'+xf(a.Bc)+'\x3c/div\x3e\x3cdiv class\x3d"annotorious-hint-icon" style\x3d"pointer-events:auto"\x3e\x3c/div\x3e\x3c/div\x3e'};function bg(a,b){this.C=a;this.Kd={padding:a.style.padding,margin:a.style.margin};this.Dd=void 0;this.Hc="fraction";this.O=new rd;this.Fa=[];this.Qb=!0;this.Ed=!1;this.G={enabled:!1,cd:!1,color:"#ffffff",strokeWidth:2};this.Hb=Object.assign({},this.G);this.element=Eb("div","annotorious-annotationlayer");M(this.element,"position","relative");M(this.element,"display","inline-block");cg(a,this.element);Jb(this.element,a);this.element.appendChild(a);var c=Vc(a);this.Rc=fe(ag,{width:c.width,height:c.height});
this.element.appendChild(this.Rc);this.xa=fe(ag,{width:c.width,height:c.height});Jf&&pb(this.xa,"annotorious-item-unfocus");this.element.appendChild(this.xa);this.f=fe(ag,{width:c.width,height:c.height});Jf&&R(this.f,!1);this.element.appendChild(this.f);this.popup=b?b:new If(this);c=new Yf;this.oc(c);this.oc(new $f);this.P=c;this.editor=new Df(this);this.l=new Pf(this.xa,this);this.Lb=new Ff(this,this.element);var d=this;Jf&&(K(this.element,Wf,function(a){a=a.relatedTarget;a&&Mb(d.element,a)||(d.O.fireEvent("onMouseOverItem"),
tb(d.xa,"annotorious-item-unfocus","annotorious-item-focus"))}),K(this.element,Xf,function(a){a=a.relatedTarget;a&&Mb(d.element,a)||(d.O.fireEvent("onMouseOutOfItem"),tb(d.xa,"annotorious-item-focus","annotorious-item-unfocus"))}));Mf(this,Vf?this.f:this.xa);this.O.addHandler("onSelectionCompleted",function(a){var b=a.viewportBounds;d.editor.setPosition(new T(b.left+d.C.offsetLeft,b.bottom+4+d.C.offsetTop));d.editor.open(!1,a)});this.O.addHandler("onSelectionCanceled",function(){Jf&&R(d.f,!1);d.P.stopSelection()})}
t(bg,Kf);function cg(a,b){function c(c,d){M(b,"margin-"+c,d+"px");M(a,"margin-"+c,0);M(a,"padding-"+c,0)}var d=$c(a,"margin"),e=$c(a,"padding");0==d.top&&0==e.top||c("top",d.top+e.top);0==d.right&&0==e.right||c("right",d.right+e.right);0==d.bottom&&0==e.bottom||c("bottom",d.bottom+e.bottom);0==d.left&&0==e.left||c("left",d.left+e.left)}n=bg.prototype;n.ya=f();n.oc=function(a){a.init(this,this.f);this.Fa.push(a)};
n.destroy=function(){var a=this.C;a.style.margin=this.Kd.margin;a.style.padding=this.Kd.padding;Jb(a,this.element)};
n.ed=function(a){this.l.T(a);var b=Fa(this.Fa,function(b){b=b.getSupportedShapeType();return Array.isArray(b)?-1!=Ba(b,a.shapes[0].type):b==a.shapes[0].type}),c=a.shapes[0],d=this,c="pixel"==c.units?Rd(c,function(a){return Lf(d,a)}):Rd(c,function(a){return d.Ha(a)});if(b){R(this.f,!0);this.l.J(!1);var e=this.f.getContext("2d");b.drawShape(e,c)}b=Od(c).geometry;b=new T(b.x,b.y+b.height);this.editor.setPosition(new T(b.x+this.C.offsetLeft,b.y+4+this.C.offsetTop));this.editor.open(a)};n.Ia=m("P");
n.M=function(){return this.l.M()};n.ga=function(a,b){return Ha(this.l.ga(a,b))};n.Ja=m("Fa");n.getItem=function(){return{src:dg(this.C),element:this.C}};function dg(a){var b=a.getAttribute("data-original");return b?b:a.src}n.Ba=function(){R(this.xa,!1)};n.Z=function(){this.Qb=!1;this.Lb&&(this.Lb.destroy(),delete this.Lb)};n.Kc=function(a){this.P=Fa(this.Fa,function(b){return b.getName()==a});return this.P?!0:(console.log('WARNING: selector "'+a+'" not available'),!1)};
n.D=function(a){a.hasOwnProperty("displayMessage")&&(this.Dd=a.displayMessage,this.Qb&&(this.Z(),this.da()));a.hasOwnProperty("outputUnits")&&(this.Hc="pixel"==a.outputUnits?"pixel":"fraction");a.hasOwnProperty("drawInsideRectAnno")&&(this.Ed=a.drawInsideRectAnno);a.hasOwnProperty("colorMode")&&this.l.wd(a.colorMode);a.hasOwnProperty("selectEditor")&&Ef(this.editor,a.selectEditor);a.hasOwnProperty("cursorAxes")&&eg(this,a.cursorAxes);a.hasOwnProperty("arrowMode")&&(a.arrowMode?this.Kc("arrow_drag"):
this.Kc("rect_drag"));a.hasOwnProperty("editor")&&this.editor.D(a.editor);a.hasOwnProperty("popup")&&this.popup.D(a.popup);a.hasOwnProperty("fancyBox")&&Zf(Fa(this.Fa,function(a){return"rect_drag"==a.getName()}),a.fancyBox);a.hasOwnProperty("shapeStyle")&&(y(this.Fa,function(b){b.D(a.shapeStyle)}),Tf(this.l))};n.Sa=function(){R(this.xa,!0)};n.da=function(){this.Qb=!0;this.Lb||(this.Lb=new Ff(this,this.element,this.Dd))};n.stopSelection=function(a){Jf&&R(this.f,!1);this.P.stopSelection();a&&this.l.R(a)};
n.Ha=function(a){var b=Tc(this.C),c={x:a.x*b.width,y:a.y*b.height};a.width&&(c.width=a.width*b.width,c.height=a.height*b.height);return c};function Lf(a,b){var c=Tc(a.C),d={x:parseInt(b.x/a.C.naturalWidth*c.width),y:parseInt(b.y/a.C.naturalHeight*c.height)};b.width&&(d.width=parseInt(b.width/a.C.naturalWidth*c.width),d.height=parseInt(b.height/a.C.naturalHeight*c.height));return d}
n.Ua=function(a){var b=Tc(this.C),c={x:a.x/b.width,y:a.y/b.height};a.width&&(c.width=a.width/b.width,c.height=a.height/b.height);return c};function Rf(a,b){var c=Tc(a.C),d={x:parseInt(b.x*a.C.naturalWidth/c.width),y:parseInt(b.y*a.C.naturalHeight/c.height)};b.width&&(d.width=parseInt(b.width*a.C.naturalWidth/c.width),d.height=parseInt(b.height*a.C.naturalHeight/c.height));return d}
function eg(a,b){b instanceof Object&&0!==Object.keys(b).length?(b.hasOwnProperty("enabled")&&(a.G.enabled=b.enabled||a.Hb.enabled),b.hasOwnProperty("dash")&&(a.G.cd=b.dash||a.Hb.cd),b.hasOwnProperty("color")&&(a.G.color=b.color||a.Hb.color),b.hasOwnProperty("strokeWidth")&&(a.G.strokeWidth=b.strokeWidth||a.Hb.strokeWidth)):a.G=Object.assign({Q:a.G.Q},a.Hb);if(a.G.enabled){if(!a.G.Q){var c=a.Rc.getContext("2d"),d=function(b){b=Of(b,a.Xe);c.clearRect(0,0,c.canvas.width,c.canvas.height);a.G.cd?c.setLineDash([5,
3]):(c.setLineDash([]),c.lineCap="square");c.strokeStyle=a.G.color;c.lineWidth=a.G.strokeWidth;c.beginPath();c.moveTo(0,b.y);c.lineTo(c.canvas.width,b.y);c.moveTo(b.x,0);c.lineTo(b.x,c.canvas.height);c.stroke()};a.G.Q=[];a.G.Q[0]=K(a.xa,Qf,d);a.G.Q[1]=K(a.f,Qf,d)}}else a.G.Q&&(y(a.G.Q,function(a){L(a)}),c=a.Rc.getContext("2d"),c.clearRect(0,0,c.canvas.width,c.canvas.height),delete a.G.Q)}bg.prototype.addSelector=bg.prototype.oc;bg.prototype.fireEvent=bg.prototype.fireEvent;
bg.prototype.setCurrentSelector=bg.prototype.Kc;bg.prototype.toItemCoordinates=bg.prototype.Ua;function fg(){Vd(this,function(){return I("img.annotatable",document)})}t(fg,Ud);fg.prototype.vc=function(a){return dg(a)};fg.prototype.pd=function(a){return new bg(a)};fg.prototype.Lc=function(a){return Kb(a)?"IMG"==a.tagName:!1};function gg(a){return'\x3cdiv class\x3d"annotorious-opacity-fade" style\x3d"white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"\x3e\x3cdiv class\x3d"annotorious-ol-hint" style\x3d"width: 400px; margin:0px auto;"\x3e'+xf(a.Bc)+"\x3c/div\x3e\x3c/div\x3e"};function hg(a,b){this.pa=a;this.d=b;this.la=Vc(b.element);this.r=b.popup;M(this.r.element,"z-index",99E3);this.K=[];this.H=[];this.ic=new OpenLayers.Layer.Boxes("Annotorious");this.pa.addLayer(this.ic);var c=this;this.pa.events.register("move",this.pa,function(){c.w&&c.Nb()});b.addHandler("beforePopupHide",function(){c.Xa==c.w?c.r.clearHideTimer():c.$a(c.Xa,c.w)})}n=hg.prototype;n.destroy=function(){this.ic.destroy()};
n.Nb=function(){var a=this.w.dc.div,b=Vc(a),c=Pc(a,this.pa.div),a=c.y,c=c.x,d=b.width,e=b.height,b=Vc(this.r.element),a={y:a+e+5};c+b.width>this.la.width?(tb(this.r.element,"top-left","top-right"),a.x=c+d-b.width):(tb(this.r.element,"top-right","top-left"),a.x=c);0>a.x&&(a.x=0);a.x+b.width>this.la.width&&(a.x=this.la.width-b.width);a.y+b.height>this.la.height&&(a.y=this.la.height-b.height);this.r.setPosition(a)};n.Xc=function(a){this.r.setAnnotation(a);this.Nb();this.r.show()};
n.$a=function(a,b){a?(Pc(a.dc.div,this.pa.div),Ic(a.dc.div,"height"),M(a.cc,"border-color","#fff000"),this.w=a,this.Xc(a.I)):delete this.w;b&&M(b.cc,"border-color","#fff")};
n.R=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));pb(b.div,"annotorious-ol-boxmarker-outer");M(b.div,"border",null);var c=Eb("div","annotorious-ol-boxmarker-inner");Sc(c,"100%","100%");b.div.appendChild(c);var d={I:a,dc:b,cc:c},e=this;K(c,"mouseover",function(){e.w||e.$a(d);e.Xa=d});K(c,"mouseout",function(){delete e.Xa;e.r.startHideTimer()});this.K.push(d);c=a.shapes[0];"pixel"!=c.units&&(c=Rd(c,function(a){return e.d.Ha(a)}));
this.H[V(a.shapes[0])]=c;Ka(this.K,function(a,b){return Nd(b.I.shapes[0])-Nd(a.I.shapes[0])});var g=1E4;y(this.K,function(a){M(a.dc.div,"z-index",g);g++});this.ic.addMarker(b)};n.T=function(a){var b=Fa(this.K,function(b){return b.I==a});b&&(A(this.K,b),this.ic.removeMarker(b.dc))};n.M=function(){return Da(this.K,function(a){return a.I})};n.J=function(a){a||this.r.startHideTimer()};n.zd=function(a,b){var c=this.ga(a,b);if(0<c.length)return c[0]};
n.ga=function(a,b){var c=[],d=this;y(this.K,function(e){e=e.I;Ld(d.H[V(e.shapes[0])],a,b)&&c.push(e)});Ka(c,function(a,b){var c=d.H[V(a.shapes[0])],k=d.H[V(b.shapes[0])];return Nd(c)-Nd(k)});return c};function ig(a){function b(){var a=parseInt(N(d.element,"width"),10),b=parseInt(N(d.element,"height"),10);Sc(d.f,a,b);d.f.width=a;d.f.height=b}this.pa=a;this.element=a.div;var c=Ic(this.element,"position");"absolute"!=c&&"relative"!=c&&M(this.element,"position","relative");this.O=new rd;this.na=fe(gg,{Bc:"Click and Drag"});M(this.na,"z-index",9998);O(this.na,0);this.element.appendChild(this.na);this.popup=new If(this);this.l=new hg(a,this);this.f=fe(ag,{width:"0",height:"0"});R(this.f,!1);M(this.f,
"position","absolute");M(this.f,"top","0px");M(this.f,"z-index",9999);this.element.appendChild(this.f);var d=this;b();this.P=new Yf;this.P.init(this,this.f);this.Rb=void 0;this.editor=new Df(this);M(this.editor.element,"z-index",1E4);window.addEventListener?window.addEventListener("resize",b,!1):window.attachEvent&&window.attachEvent("onresize",b);K(this.element,"mouseover",function(a){(a=a.relatedTarget)&&Mb(d.element,a)||d.O.fireEvent("onMouseOverItem")});K(this.element,"mouseout",function(a){(a=
a.relatedTarget)&&Mb(d.element,a)||d.O.fireEvent("onMouseOutOfItem")});K(this.f,"mousedown",function(a){var b=Qc(d.element);d.P.startSelection(a.clientX-b.x,a.clientY-b.y)});this.O.addHandler("onSelectionCompleted",function(a){M(d.f,"pointer-events","none");a=a.viewportBounds;d.editor.setPosition(new T(a.left,a.bottom+4));d.editor.open()});this.O.addHandler("onSelectionCanceled",function(){d.stopSelection()})}t(ig,Kf);n=ig.prototype;n.da=f();n.Z=f();
n.ya=function(a){M(this.f,"pointer-events","auto");var b=this;R(this.f,!0);O(this.na,0.8);window.setTimeout(function(){O(b.na,0)},2E3);a&&(this.Rb=a)};n.destroy=function(){this.l.destroy();Ib(this.na);Ib(this.f)};n.oc=f();n.ed=function(a){this.l.T(a);var b=this.P,c=this;if(b){R(this.f,!0);this.l.J(void 0);var d=this.f.getContext("2d"),e=Rd(a.shapes[0],function(a){return c.Ha(a)});console.log(e);b.drawShape(d,e);b=Od(e).geometry;this.editor.setPosition(new T(b.x,b.y+b.height));this.editor.open(a)}};
n.Ha=function(a){var b=this.pa.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return(a=a.width?this.pa.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x+a.width,a.y+a.height)):!1)?{x:b.x,y:a.y,width:a.x-b.x+2,height:b.y-a.y+2}:{x:b.x,y:b.y}};n.M=function(){return this.l.M()};n.ga=function(a,b){return Ha(this.l.ga(a,b))};n.Ja=f();n.getItem=function(){return{src:"map://openlayers/something"}};n.gc=f();
n.Ua=function(a){var b=this.pa.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return(a=a.width?new OpenLayers.Pixel(a.x+a.width-2,a.y+a.height-2):!1)?(a=this.pa.getLonLatFromPixel(a),b={x:b.lon,y:a.lat,width:a.lon-b.lon,height:b.lat-a.lat},console.log(b),b):{x:b.lon,y:b.lat}};function jg(){Vd(this)}t(jg,Ud);jg.prototype.vc=aa("map://openlayers/something");jg.prototype.pd=function(a){return new ig(a)};jg.prototype.Lc=function(a){return a instanceof OpenLayers.Map};function kg(a,b){this.ma=a;this.d=b;this.la=Vc(a.element);this.r=b.popup;M(this.r.element,"z-index",99E3);this.K=[];var c=this;this.ma.addHandler("animation",function(){c.w&&c.Nb()});b.addHandler("onPopupShown",function(){void 0!==c.w&&!1!=c.w&&c.d.fireEvent("onMouseOverAnnotation",c.w.I)});b.addHandler("beforePopupHide",function(){c.Xa==c.w?c.r.clearHideTimer():(c.d.fireEvent("onMouseOutOfAnnotation",c.w.I),c.$a(c.Xa,c.w))})}n=kg.prototype;
n.Nb=function(){var a=this.ma.element,b=this.w.Gc,c=Vc(b),b=Pc(b,a),a=b.y,b=b.x,d=c.width,e=c.height,c=Vc(this.r.element),a={x:b,y:a+e+12};tb(this.r.element,"top-right","top-left");this.ma.isFullPage()||(b+c.width>this.la.width&&(tb(this.r.element,"top-left","top-right"),a.x=b+d-c.width),0>a.x&&(a.x=0),a.x+c.width>this.la.width&&(a.x=this.la.width-c.width),a.y+c.height>this.la.height&&(a.y=this.la.height-c.height));this.r.setPosition(a)};n.Xc=function(a){this.r.setAnnotation(a);this.Nb();this.r.show()};
n.$a=function(a,b){a?(M(a.cc,"border-color","#fff000"),this.w=a,this.Xc(a.I)):delete this.w;b&&M(b.cc,"border-color","#fff")};
n.R=function(a){var b=a.shapes[0].geometry,c=Eb("div","annotorious-ol-boxmarker-outer"),d=Eb("div","annotorious-ol-boxmarker-inner");Sc(d,"100%","100%");c.appendChild(d);var b=new OpenSeadragon.Rect(b.x,b.y,b.width,b.height),e={I:a,Gc:c,cc:d},g=this;K(d,"mouseover",function(){g.w||g.$a(e);g.Xa=e});K(d,"mouseout",function(){delete g.Xa;g.r.startHideTimer()});this.K.push(e);Ka(this.K,function(a,b){return Nd(b.I.shapes[0])-Nd(a.I.shapes[0])});var h=1;y(this.K,function(a){M(a.Gc,"z-index",h);h++});this.ma.addOverlay(c,
b)};n.T=function(a){var b=Fa(this.K,function(b){return b.I==a});b&&(A(this.K,b),this.ma.removeOverlay(b.Gc))};n.M=function(){return Da(this.K,function(a){console.log(a);return a.I})};n.J=function(a){var b=this;a?y(this.K,function(c){c.I==a&&(b.w&&b.w!=c?b.$a(c,b.w):b.$a(c))}):this.r.startHideTimer()};n.destroy=function(){var a=this;y(this.K,function(b){a.ma.removeOverlay(b.Gc)});this.K=[]};function lg(a){this.element=a.element;M(Ab(),"z-index",0);this.ma=a;this.O=new rd;this.Fa=[];this.Qb=!0;this.na=fe(gg,{Bc:"Click and Drag"});O(this.na,0);this.element.appendChild(this.na);this.popup=new If(this);this.l=new kg(a,this);this.f=fe(ag,{width:"0",height:"0"});R(this.f,!1);this.element.appendChild(this.f);var b=this;(function(){var a=parseInt(N(b.element,"width"),10),d=parseInt(N(b.element,"height"),10);Sc(b.f,a,d);b.f.width=a;b.f.height=d})();a=new Yf;a.init(this,this.f);this.Fa.push(a);
this.P=a;this.editor=new Df(this);Mf(this,this.f);this.O.addHandler("onSelectionCompleted",function(a){a=a.viewportBounds;b.editor.setPosition(new T(a.left,a.bottom+4));b.editor.open()});this.O.addHandler("onSelectionCanceled",function(){b.stopSelection()})}t(lg,Kf);n=lg.prototype;n.da=f();n.Z=f();n.destroy=function(){this.l.destroy();delete this.l};n.ya=function(a){M(this.f,"pointer-events","auto");var b=this;R(this.f,!0);O(this.na,0.8);window.setTimeout(function(){O(b.na,0)},2E3);a&&(this.Rb=a)};
n.ed=function(a){this.l.T(a);var b=this.P,c=this;if(b){R(this.f,!0);this.l.J(void 0);var d=this.f.getContext("2d"),e=Rd(a.shapes[0],function(a){return c.Ha(a)});b.drawShape(d,e);b=Od(e).geometry;this.editor.setPosition(new T(b.x,b.y+b.height+4));this.editor.open(a)}};
n.Ha=function(a){var b=nd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x,a.y);a=a.width?new OpenSeadragon.Point(a.x+a.width,a.y+a.height):!1;c=this.ma.viewport.viewportToWindowCoordinates(c);return a?(a=this.ma.viewport.viewportToWindowCoordinates(a),{x:c.x-b.left,y:c.y-b.top,width:a.x-c.x+2,height:a.y-c.y+2}):c};n.M=function(){return this.l.M()};n.Ja=f();n.getItem=function(){return{src:"dzi://openseadragon/something"}};n.gc=f();n.Ia=m("P");
n.Ua=function(a){var b=nd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x+b.left,a.y+b.top);a=a.width?new OpenSeadragon.Point(a.x+b.left+a.width-2,a.y+b.top+a.height-2):!1;c=this.ma.viewport.windowToViewportCoordinates(c);return a?(a=this.ma.viewport.windowToViewportCoordinates(a),{x:c.x,y:c.y,width:a.x-c.x,height:a.y-c.y}):c};function mg(){Vd(this)}t(mg,Ud);mg.prototype.vc=aa("dzi://openseadragon/something");mg.prototype.pd=function(a){return new lg(a)};mg.prototype.Lc=function(a){return a instanceof OpenSeadragon.We};function Y(){this.Gd=!1;this.o=[new fg];window.OpenLayers&&this.o.push(new jg);window.OpenSeadragon&&this.o.push(new mg);this.Ob=[];var a=this;od(function(){ng(a)})}function ng(a){a.Gd||(y(a.o,function(a){a.init()}),y(a.Ob,function(b){b.initPlugin&&b.initPlugin(a);y(a.o,function(a){a.nc(b)})}),K(window,"resize",function(){a.reload()}),a.Gd=!0)}function Z(a,b){return Fa(a.o,function(a){return ae(a,b)})}n=Y.prototype;
n.ya=function(a,b){var c=void 0,d=void 0;q(a)?(c=a,d=b):r(a)&&(d=a);if(c){var e=Z(this,c);e&&e.ya(c,d)}else y(this.o,function(a){a.ya(d)})};
n.R=function(a,b){if(a.src)if(a.shapes){var c=new Td(qd(a.src),a.text,a.shapes[0],a.created_at,a.textId,a.id);c.editable=a.editable;var d=Z(this,c.src);d&&d.R(c,b)}else console.error("Error: The shapes attribute is required and must necessarily include the type and geometry field. See the documentation for more details.",a);else console.error("Error: The src attribute is required for identification the image associated to annotation. See the documentation for more details.",a)};
n.we=function(a){if(Array.isArray(a)&&a.length){var b=this;a.forEach(function(a){b.R(a)})}};n.addHandler=function(a,b){y(this.o,function(c){c.addHandler(a,b)})};n.wa=function(a,b){y(this.o,function(c){c.wa(a,b)})};n.nc=function(a,b){try{var c=new window.annotorious.plugin[a](b);"complete"==document.readyState?(c.initPlugin&&c.initPlugin(this),y(this.o,function(a){a.nc(c)})):this.Ob.push(c)}catch(d){console.log("Could not load plugin: "+a)}};
n.destroy=function(a){if(a){var b=Z(this,a);b&&b.destroy(a)}else y(this.o,function(a){a.destroy()})};n.Ia=function(a){var b=Z(this,a);if(b)return b.Ia(a)};n.M=function(a){if(a){var b=Z(this,a);return b?b.M(a):[]}var c=[];y(this.o,function(a){Ia(c,a.M())});return c};n.Ja=function(a){var b=Z(this,a);return b?b.Ja(a):[]};n.Ba=function(a){if(a){var b=Z(this,a);b&&b.Ba(a)}else y(this.o,function(a){a.Ba()})};n.Z=function(a){if(a){var b=Z(this,a);b&&b.Z(a)}else y(this.o,function(a){a.Z()})};
n.stopSelection=function(a){if(a){var b=Z(this,a);b&&b.stopSelection(a)}else y(this.o,function(a){a.stopSelection()})};n.J=function(a){if(a){var b=Z(this,a.src);b&&b.J(a)}else y(this.o,function(a){a.J()})};n.nd=function(a){ng(this);var b=Fa(this.o,function(b){return b.Lc(a)});if(b)b.nd(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};n.Pa=function(a){var b=this;y(this.M(a),function(a){b.T(a)})};
n.T=function(a){var b=Z(this,a.src);b&&b.T(a)};n.reload=function(a){y(this.o,function(b){var c=b.M();a&&ce(b);b.destroy();b.init();y(c,function(a){b.R(a)})})};n.reset=function(){y(this.o,function(a){ce(a);a.destroy();a.init()})};n.gc=function(a,b){var c=Z(this,a);c&&c.gc(a,b)};n.D=function(a){y(this.o,function(b){b.D(a)})};n.wd=function(a,b,c,d,e){this.D({colorMode:{enabled:a,insideAnno:b,mode:c,color:d,strokeWidth:e}})};
n.Ve=function(a,b,c,d){this.D({selectEditor:{enabled:a,options:b,emptyOption:c,customLabel:d}})};n.Se=function(a,b,c,d){this.D({cursorAxes:{enabled:a,dash:b,color:c,strokeWidth:d}})};n.Qe=function(a){this.D({arrowMode:a})};n.Ue=function(a){this.D({fancyBox:a})};n.bc=function(a,b){var c=Z(this,qd(a.src));return c?c.bc(a,b):[]};n.Re=function(a){a?this.da(void 0):this.Z(void 0)};n.Sa=function(a){if(a){var b=Z(this,a);b&&b.Sa(a)}else y(this.o,function(a){a.Sa()})};
n.da=function(a){if(a){var b=Z(this,a);b&&b.da(a)}else y(this.o,function(a){a.da()})};window.anno=new Y;Y.prototype.activateSelector=Y.prototype.ya;Y.prototype.addAnnotation=Y.prototype.R;Y.prototype.addHandler=Y.prototype.addHandler;Y.prototype.addPlugin=Y.prototype.nc;Y.prototype.destroy=Y.prototype.destroy;Y.prototype.getActiveSelector=Y.prototype.Ia;Y.prototype.getAnnotations=Y.prototype.M;Y.prototype.getAvailableSelectors=Y.prototype.Ja;Y.prototype.hideAnnotations=Y.prototype.Ba;Y.prototype.hideSelectionWidget=Y.prototype.Z;Y.prototype.highlightAnnotation=Y.prototype.J;
Y.prototype.makeAnnotatable=Y.prototype.nd;Y.prototype.removeAll=Y.prototype.Pa;Y.prototype.removeAnnotation=Y.prototype.T;Y.prototype.reset=Y.prototype.reset;Y.prototype.setActiveSelector=Y.prototype.gc;Y.prototype.setProperties=Y.prototype.D;Y.prototype.showAnnotations=Y.prototype.Sa;Y.prototype.showSelectionWidget=Y.prototype.da;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Qd,window.annotorious.geometry.getBoundingRect=Od);Y.prototype.setSelectionEnabled=Y.prototype.Re;Y.prototype.reload=Y.prototype.reload;Y.prototype.addAnnotations=Y.prototype.we;Y.prototype.setColorMode=Y.prototype.wd;Y.prototype.useSelectEditor=Y.prototype.Ve;Y.prototype.showCursorAxes=Y.prototype.Se;Y.prototype.setArrowMode=Y.prototype.Qe;Y.prototype.useFancyBox=Y.prototype.Ue;
Y.prototype.getIntersectedAnnotations=Y.prototype.bc;
